<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><!-- hexo injector head_begin start -->
<link rel="stylesheet" href="/css/bilicard.css">
<!-- hexo injector head_begin end --><div id="myscoll"></div><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>字节面试准备 | Kyle's Blog</title><meta name="robots" content="noindex"><meta name="keywords" content="Java,Spring,算法,代码,博客,Butterfly,Hexo"><meta name="author" content="Kyle Violet"><meta name="copyright" content="Kyle Violet"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="算法题121. 买卖股票的最佳时机 如果第i天卖出股票，则最大利润为(该天的股价-前面天数中最小的股价)，然后与已知的最大利润比较，如果大于则更新当前最大利润的值。12345678910public int maxProfit(int[] prices) &amp;#123;    int cost &#x3D; Integer.MAX_VALUE, money &#x3D; 0;    for (int price : p">
<meta property="og:type" content="article">
<meta property="og:title" content="字节面试准备">
<meta property="og:url" content="https://cyborg2077.github.io/2025/02/22/bytedance/index.html">
<meta property="og:site_name" content="Kyle&#39;s Blog">
<meta property="og:description" content="算法题121. 买卖股票的最佳时机 如果第i天卖出股票，则最大利润为(该天的股价-前面天数中最小的股价)，然后与已知的最大利润比较，如果大于则更新当前最大利润的值。12345678910public int maxProfit(int[] prices) &amp;#123;    int cost &#x3D; Integer.MAX_VALUE, money &#x3D; 0;    for (int price : p">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://img0.baidu.com/it/u=3721396657,2943407387&fm=253&fmt=auto&app=138&f=JPEG?w=640&h=453">
<meta property="article:published_time" content="2025-02-22T08:33:05.000Z">
<meta property="article:modified_time" content="2025-02-24T14:27:52.933Z">
<meta property="article:author" content="Kyle Violet">
<meta property="article:tag" content="Java,Spring,算法,代码,博客,Butterfly,Hexo">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://img0.baidu.com/it/u=3721396657,2943407387&fm=253&fmt=auto&app=138&f=JPEG?w=640&h=453"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://cyborg2077.github.io/2025/02/22/bytedance/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//hm.baidu.com"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.0.0/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.staticfile.org/fancyapps-ui/4.0.31/fancybox.min.css" media="print" onload="this.media='all'"><script>var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?d54c3018e5f620d2cda0f5ca52ff80cb";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":true,"languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: undefined,
  noticeOutdate: {"limitDay":365,"position":"top","messagePrev":"It has been","messageNext":"days since the last update, the content of the article may be outdated."},
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":230},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: true,
    post: true
  },
  runtime: '',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: true,
  isAnchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '字节面试准备',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2025-02-24 22:27:52'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          const now = new Date()
          const hour = now.getHours()
          const isNight = hour <= 6 || hour >= 18
          if (t === undefined) isNight ? activateDarkMode() : activateLightMode()
          else if (t === 'light') activateLightMode()
          else activateDarkMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><link rel="stylesheet" href="/css/custom.css" media="defer" onload="this.media='all'"><link rel="stylesheet" href="https://cdn1.tianli0.top/npm/element-ui@2.15.6/packages/theme-chalk/lib/index.css"><link rel="stylesheet" href="//at.alicdn.com/t/c/font_3049706_m3wrww27lm.css"><script src="https://npm.elemecdn.com/echarts@4.9.0/dist/echarts.min.js"></script><script src='//unpkg.com/valine/dist/Valine.min.js'></script><style id="themeColor"></style><style id="rightSide"></style><style id="transPercent"></style><style id="blurNum"></style><style id="settingStyle"></style><style id="defineBg"></style><style id="menu_shadow"></style><svg aria-hidden="true" style="position:absolute; overflow:hidden; width:0; height:0"><symbol id="icon-sun" viewBox="0 0 1024 1024"><path d="M960 512l-128 128v192h-192l-128 128-128-128H192v-192l-128-128 128-128V192h192l128-128 128 128h192v192z" fill="#FFD878" p-id="8420"></path><path d="M736 512a224 224 0 1 0-448 0 224 224 0 1 0 448 0z" fill="#FFE4A9" p-id="8421"></path><path d="M512 109.248L626.752 224H800v173.248L914.752 512 800 626.752V800h-173.248L512 914.752 397.248 800H224v-173.248L109.248 512 224 397.248V224h173.248L512 109.248M512 64l-128 128H192v192l-128 128 128 128v192h192l128 128 128-128h192v-192l128-128-128-128V192h-192l-128-128z" fill="#4D5152" p-id="8422"></path><path d="M512 320c105.888 0 192 86.112 192 192s-86.112 192-192 192-192-86.112-192-192 86.112-192 192-192m0-32a224 224 0 1 0 0 448 224 224 0 0 0 0-448z" fill="#4D5152" p-id="8423"></path></symbol><symbol id="icon-moon" viewBox="0 0 1024 1024"><path d="M611.370667 167.082667a445.013333 445.013333 0 0 1-38.4 161.834666 477.824 477.824 0 0 1-244.736 244.394667 445.141333 445.141333 0 0 1-161.109334 38.058667 85.077333 85.077333 0 0 0-65.066666 135.722666A462.08 462.08 0 1 0 747.093333 102.058667a85.077333 85.077333 0 0 0-135.722666 65.024z" fill="#FFB531" p-id="11345"></path><path d="M329.728 274.133333l35.157333-35.157333a21.333333 21.333333 0 1 0-30.165333-30.165333l-35.157333 35.157333-35.114667-35.157333a21.333333 21.333333 0 0 0-30.165333 30.165333l35.114666 35.157333-35.114666 35.157334a21.333333 21.333333 0 1 0 30.165333 30.165333l35.114667-35.157333 35.157333 35.157333a21.333333 21.333333 0 1 0 30.165333-30.165333z" fill="#030835" p-id="11346"></path></symbol></svg><!-- hexo injector head_end start --><link rel="stylesheet" href="https://cdn.cbd.int/hexo-butterfly-clock-anzhiyu@1.1.6/lib/clock.min.css" /><link rel="stylesheet" href="https://unpkg.zhimg.com/hexo-butterfly-footer-beautify@1.0.0/lib/runtime.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/assets/font-awesome-animation.min.css" media="defer" onload="this.media='all'"><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/tag_plugins.css" media="defer" onload="this.media='all'"><script src="https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/assets/carousel-touch.js"></script><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-filter-gitcalendar/lib/gitcalendar.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-wowjs/lib/animate.min.css" media="print" onload="this.media='screen'"><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiperstyle.css" media="print" onload="this.media='all'"><!-- hexo injector head_end end --><meta name="generator" content="Hexo 6.3.0"><link rel="alternate" href="/atom.xml" title="Kyle's Blog" type="application/atom+xml">
</head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">加载中...</div></div></div><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://s2.loli.net/2025/02/23/AMkCrfzyFsBQE3D.png" onerror="onerror=null;src='/assets/r1.png'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">150</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">112</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">14</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-HOME"></use></svg><span class="menu_word" style="font-size:17px"> 首页</span></a></div><div class="menus_item"><a class="site-page group faa-parent animated-hover hide" href="javascript:void(0);"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-exe-article-primary"></use></svg><span class="menu_word" style="font-size:17px"> 文章</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/archives/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-guidang1">                   </use></svg><span class="menu_word" style="font-size:17px"> 归档</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/tags/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-sekuaibiaoqian">                   </use></svg><span class="menu_word" style="font-size:17px"> 标签</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/categories/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-tags">                   </use></svg><span class="menu_word" style="font-size:17px"> 分类</span></a></li></ul></div><div class="menus_item"><a class="site-page group faa-parent animated-hover hide" href="javascript:void(0);"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-ziyuan1"></use></svg><span class="menu_word" style="font-size:17px"> 休闲</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/box/fitness/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-tiyu">                   </use></svg><span class="menu_word" style="font-size:17px"> 健身日寄</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/box/animation/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-nvwumao">                   </use></svg><span class="menu_word" style="font-size:17px"> 番剧</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/secret/"><i class="fa-fw fas fa-heart faa-tada"></i><span class="menu_word" style="font-size:17px"> 记忆胶囊</span></a></li></ul></div><div class="menus_item"><a class="site-page group faa-parent animated-hover hide" href="javascript:void(0);"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-shejiaoxinxi"></use></svg><span class="menu_word" style="font-size:17px"> 社交</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/comments/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-liuyan">                   </use></svg><span class="menu_word" style="font-size:17px"> 留言板</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/link/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-lianjie">                   </use></svg><span class="menu_word" style="font-size:17px"> 友人帐</span></a></li></ul></div><div class="menus_item"><a class="site-page group faa-parent animated-hover hide" href="javascript:void(0);"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-maoliang"></use></svg><span class="menu_word" style="font-size:17px"> 个人</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/moments/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-qunliaotian">                   </use></svg><span class="menu_word" style="font-size:17px"> 闲言碎语</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/about/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-geren-dangqian">                   </use></svg><span class="menu_word" style="font-size:17px"> 关于我</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/pumpkin/"><i class="fa-fw fas fa-pumpkin fas fa-heart"></i><span class="menu_word" style="font-size:17px"> Pumpkin</span></a></li></ul></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">Kyle's Blog</a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-HOME"></use></svg><span class="menu_word" style="font-size:17px"> 首页</span></a></div><div class="menus_item"><a class="site-page group faa-parent animated-hover hide" href="javascript:void(0);"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-exe-article-primary"></use></svg><span class="menu_word" style="font-size:17px"> 文章</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/archives/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-guidang1">                   </use></svg><span class="menu_word" style="font-size:17px"> 归档</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/tags/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-sekuaibiaoqian">                   </use></svg><span class="menu_word" style="font-size:17px"> 标签</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/categories/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-tags">                   </use></svg><span class="menu_word" style="font-size:17px"> 分类</span></a></li></ul></div><div class="menus_item"><a class="site-page group faa-parent animated-hover hide" href="javascript:void(0);"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-ziyuan1"></use></svg><span class="menu_word" style="font-size:17px"> 休闲</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/box/fitness/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-tiyu">                   </use></svg><span class="menu_word" style="font-size:17px"> 健身日寄</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/box/animation/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-nvwumao">                   </use></svg><span class="menu_word" style="font-size:17px"> 番剧</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/secret/"><i class="fa-fw fas fa-heart faa-tada"></i><span class="menu_word" style="font-size:17px"> 记忆胶囊</span></a></li></ul></div><div class="menus_item"><a class="site-page group faa-parent animated-hover hide" href="javascript:void(0);"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-shejiaoxinxi"></use></svg><span class="menu_word" style="font-size:17px"> 社交</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/comments/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-liuyan">                   </use></svg><span class="menu_word" style="font-size:17px"> 留言板</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/link/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-lianjie">                   </use></svg><span class="menu_word" style="font-size:17px"> 友人帐</span></a></li></ul></div><div class="menus_item"><a class="site-page group faa-parent animated-hover hide" href="javascript:void(0);"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-maoliang"></use></svg><span class="menu_word" style="font-size:17px"> 个人</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/moments/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-qunliaotian">                   </use></svg><span class="menu_word" style="font-size:17px"> 闲言碎语</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/about/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-geren-dangqian">                   </use></svg><span class="menu_word" style="font-size:17px"> 关于我</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/pumpkin/"><i class="fa-fw fas fa-pumpkin fas fa-heart"></i><span class="menu_word" style="font-size:17px"> Pumpkin</span></a></li></ul></div></div><center id="name-container"><a id="page-name" href="javascript:scrollToTop()">PAGE_NAME</a></center><div id="nav-right"><div id="search-button"><a class="search faa-parent animated-hover" title="检索站内任何你想要的信息"><svg class="faa-tada icon" style="height:24px;width:24px;fill:currentColor;position:relative;top:6px" aria-hidden="true"><use xlink:href="#icon-valentine_-search-love-find-heart"></use></svg><span> 搜索</span></a></div><a class="meihua faa-parent animated-hover" onclick="toggleWinbox()" title="美化设置-自定义你的风格" id="meihua-button"><svg class="faa-tada icon" style="height:26px;width:26px;fill:currentColor;position:relative;top:8px" aria-hidden="true"><use xlink:href="#icon-tupian1"></use></svg></a><a class="sun_moon faa-parent animated-hover" onclick="switchNightMode()" title="浅色和深色模式转换" id="nightmode-button"><svg class="faa-tada" style="height:25px;width:25px;fill:currentColor;position:relative;top:7px" viewBox="0 0 1024 1024"><use id="modeicon" xlink:href="#icon-moon">       </use></svg></a><div id="toggle-menu"><a><i class="fas fa-bars fa-fw"></i></a></div></div></div></nav><div id="post-info"><h1 class="post-title">字节面试准备</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><svg class="meta_icon post-meta-icon" style="width:30px;height:30px;position:relative;top:10px"><use xlink:href="#icon-rili"></use></svg><span class="post-meta-label">发表于 </span><time class="post-meta-date-created" datetime="2025-02-22T08:33:05.000Z" title="发表于 2025-02-22 16:33:05">2025-02-22</time><span class="post-meta-separator">|</span><svg class="meta_icon post-meta-icon" style="width:18px;height:18px;position:relative;top:5px"><use xlink:href="#icon-gengxin1"></use></svg><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2025-02-24T14:27:52.933Z" title="更新于 2025-02-24 22:27:52">2025-02-24</time></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><svg class="meta_icon post-meta-icon" style="width:25px;height:25px;position:relative;top:8px"><use xlink:href="#icon-charuword"></use></svg><span class="post-meta-label">字数总计:</span><span class="word-count">2.1w</span><span class="post-meta-separator">|</span><svg class="meta_icon post-meta-icon" style="width:20px;height:20px;position:relative;top:5px"><use xlink:href="#icon-shizhong"></use></svg><span class="post-meta-label">阅读时长:</span><span>69分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="字节面试准备"><svg class="meta_icon post-meta-icon" style="width:25px;height:25px;position:relative;top:5px"><use xlink:href="#icon-eye"></use></svg><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div><section class="main-hero-waves-area waves-area"><svg class="waves-svg" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M -160 44 c 30 0 58 -18 88 -18 s 58 18 88 18 s 58 -18 88 -18 s 58 18 88 18 v 44 h -352 Z"></path></defs><g class="parallax"><use href="#gentle-wave" x="48" y="0"></use><use href="#gentle-wave" x="48" y="3"></use><use href="#gentle-wave" x="48" y="5"></use><use href="#gentle-wave" x="48" y="7"></use></g></svg></section></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="算法题"><a href="#算法题" class="headerlink" title="算法题"></a>算法题</h1><h2 id="121-买卖股票的最佳时机"><a href="#121-买卖股票的最佳时机" class="headerlink" title="121. 买卖股票的最佳时机"></a>121. 买卖股票的最佳时机</h2><ul>
<li>如果第i天卖出股票，则最大利润为(该天的股价-前面天数中最小的股价)，然后与已知的最大利润比较，如果大于则更新当前最大利润的值。<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">maxProfit</span><span class="params">(<span class="type">int</span>[] prices)</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">cost</span> <span class="operator">=</span> Integer.MAX_VALUE, money = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> price : prices) &#123;</span><br><span class="line">        <span class="comment">// 每天都记录一下最低价格</span></span><br><span class="line">        cost = Math.min(cost, price);</span><br><span class="line">        <span class="comment">// 每天都都买，用已知的最低价格卖，比较最低利润</span></span><br><span class="line">        money = Math.max(money, price - cost);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> money;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="103-二叉树的锯齿形层序遍历"><a href="#103-二叉树的锯齿形层序遍历" class="headerlink" title="103. 二叉树的锯齿形层序遍历"></a>103. 二叉树的锯齿形层序遍历</h2><ul>
<li><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> List&lt;List&lt;Integer&gt;&gt; <span class="title function_">zigzagLevelOrder</span><span class="params">(TreeNode root)</span> &#123;</span><br><span class="line">    LinkedList&lt;TreeNode&gt; queue = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">    <span class="keyword">if</span> (root != <span class="literal">null</span>) &#123;</span><br><span class="line">        queue.add(root);</span><br><span class="line">    &#125;</span><br><span class="line">    List&lt;List&lt;Integer&gt;&gt; res = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">    <span class="type">int</span> <span class="variable">level</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (!queue.isEmpty()) &#123;</span><br><span class="line">        LinkedList&lt;Integer&gt; tmp = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">        <span class="type">int</span> <span class="variable">size</span> <span class="operator">=</span> queue.size();</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; size; i++) &#123;</span><br><span class="line">            <span class="type">TreeNode</span> <span class="variable">poll</span> <span class="operator">=</span> queue.poll();</span><br><span class="line"></span><br><span class="line">            tmp.add(poll.val);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (poll.left != <span class="literal">null</span>) &#123;</span><br><span class="line">                queue.add(poll.left);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (poll.right != <span class="literal">null</span>) &#123;</span><br><span class="line">                queue.add(poll.right);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (level++ % <span class="number">2</span> == <span class="number">0</span>) &#123;</span><br><span class="line">            res.add(tmp);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            Collections.reverse(tmp);</span><br><span class="line">            res.add(tmp);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="3-无重复字符的最长子串"><a href="#3-无重复字符的最长子串" class="headerlink" title="3. 无重复字符的最长子串"></a>3. 无重复字符的最长子串</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">lengthOfLongestSubstring</span><span class="params">(String s)</span> &#123;</span><br><span class="line">    <span class="type">char</span>[] array = s.toCharArray();</span><br><span class="line">    HashSet&lt;Character&gt; set = <span class="keyword">new</span> <span class="title class_">HashSet</span>&lt;&gt;();</span><br><span class="line">    <span class="type">int</span> <span class="variable">res</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">left</span> <span class="operator">=</span> <span class="number">0</span>, right = <span class="number">0</span>; right &lt; s.length(); right++) &#123;</span><br><span class="line">        <span class="type">char</span> <span class="variable">c</span> <span class="operator">=</span> array[right];</span><br><span class="line">        <span class="keyword">while</span> (set.contains(c)) &#123;</span><br><span class="line">            set.remove(array[left++]);</span><br><span class="line">        &#125;</span><br><span class="line">        set.add(c);</span><br><span class="line">        res = Math.max(res, right - left + <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="146-LRU缓存机制"><a href="#146-LRU缓存机制" class="headerlink" title="146. LRU缓存机制"></a>146. LRU缓存机制</h2><ul>
<li>首先子串是连续的，使用滑动窗口来实现<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">LRUCache</span> &#123;</span><br><span class="line">    <span class="keyword">class</span> <span class="title class_">Node</span> &#123;</span><br><span class="line">        <span class="type">int</span> key, value;</span><br><span class="line">        Node pre, next;</span><br><span class="line"></span><br><span class="line">        Node(<span class="type">int</span> key, <span class="type">int</span> value) &#123;</span><br><span class="line">            <span class="built_in">this</span>.key = key;</span><br><span class="line">            <span class="built_in">this</span>.value = value;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        Node() &#123;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    HashMap&lt;Integer, Node&gt; cache = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">    <span class="type">int</span> capacity;</span><br><span class="line">    <span class="type">int</span> size;</span><br><span class="line">    Node head, tail;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">LRUCache</span><span class="params">(<span class="type">int</span> capacity)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.capacity = capacity;</span><br><span class="line">        <span class="built_in">this</span>.head = <span class="keyword">new</span> <span class="title class_">Node</span>();</span><br><span class="line">        <span class="built_in">this</span>.tail = <span class="keyword">new</span> <span class="title class_">Node</span>();</span><br><span class="line">        <span class="built_in">this</span>.head.next = tail;</span><br><span class="line">        <span class="built_in">this</span>.tail.pre = head;</span><br><span class="line">        <span class="built_in">this</span>.cache = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;(capacity);</span><br><span class="line">        <span class="built_in">this</span>.size = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">get</span><span class="params">(<span class="type">int</span> key)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">res</span> <span class="operator">=</span> -<span class="number">1</span>;</span><br><span class="line">        <span class="type">Node</span> <span class="variable">node</span> <span class="operator">=</span> cache.get(key);</span><br><span class="line">        <span class="keyword">if</span> (node != <span class="literal">null</span>) &#123;</span><br><span class="line">            res = node.value;</span><br><span class="line">            moveToHead(node);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">put</span><span class="params">(<span class="type">int</span> key, <span class="type">int</span> value)</span> &#123;</span><br><span class="line">        <span class="type">Node</span> <span class="variable">node</span> <span class="operator">=</span> cache.get(key);</span><br><span class="line">        <span class="keyword">if</span> (node == <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="type">Node</span> <span class="variable">newNode</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Node</span>(key, value);</span><br><span class="line">            cache.put(key, newNode);</span><br><span class="line">            addToHead(newNode);</span><br><span class="line">            size++;</span><br><span class="line">            <span class="keyword">if</span> (size &gt; capacity) &#123;</span><br><span class="line">                <span class="type">Node</span> <span class="variable">removeTail</span> <span class="operator">=</span> removeTail();</span><br><span class="line">                cache.remove(removeTail.key);</span><br><span class="line">                size--;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            node.value = value;</span><br><span class="line">            moveToHead(node);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">moveToHead</span><span class="params">(Node node)</span> &#123;</span><br><span class="line">        remove(node);</span><br><span class="line">        addToHead(node);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">remove</span><span class="params">(Node node)</span> &#123;</span><br><span class="line">        node.next.pre = node.pre;</span><br><span class="line">        node.pre.next = node.next;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    Node <span class="title function_">removeTail</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">Node</span> <span class="variable">tailNode</span> <span class="operator">=</span> tail.pre;</span><br><span class="line">        remove(tailNode);</span><br><span class="line">        <span class="keyword">return</span> tailNode;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">addToHead</span><span class="params">(Node node)</span> &#123;</span><br><span class="line">        <span class="type">Node</span> <span class="variable">next</span> <span class="operator">=</span> head.next;</span><br><span class="line">        node.pre = head;</span><br><span class="line">        head.next = node;</span><br><span class="line">        node.next = next;</span><br><span class="line">        next.pre = node;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="206-反转链表"><a href="#206-反转链表" class="headerlink" title="206.反转链表"></a>206.反转链表</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> ListNode <span class="title function_">reverseList</span><span class="params">(ListNode head)</span> &#123;</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">left</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">right</span> <span class="operator">=</span> head;</span><br><span class="line">        <span class="keyword">while</span> (right != <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="type">ListNode</span> <span class="variable">next</span> <span class="operator">=</span> right.next;</span><br><span class="line">            right.next = left;</span><br><span class="line">            left = right;</span><br><span class="line">            right = next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> left;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="92-反转链表2"><a href="#92-反转链表2" class="headerlink" title="92. 反转链表2"></a>92. 反转链表2</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> ListNode <span class="title function_">reverseBetween</span><span class="params">(ListNode head, <span class="type">int</span> left, <span class="type">int</span> right)</span> &#123;</span><br><span class="line">    <span class="type">ListNode</span> <span class="variable">dummyNode</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ListNode</span>(-<span class="number">1</span>);</span><br><span class="line">    dummyNode.next = head;</span><br><span class="line"></span><br><span class="line">    <span class="type">ListNode</span> <span class="variable">pre</span> <span class="operator">=</span> dummyNode;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; left - <span class="number">1</span>; i++) &#123;</span><br><span class="line">        pre = pre.next;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="type">ListNode</span> <span class="variable">leftNode</span> <span class="operator">=</span> pre.next;</span><br><span class="line">    <span class="type">ListNode</span> <span class="variable">rightNode</span> <span class="operator">=</span> leftNode.next;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> left; i &lt; right; i++) &#123;</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">next</span> <span class="operator">=</span> rightNode.next;</span><br><span class="line"></span><br><span class="line">        rightNode.next = leftNode;</span><br><span class="line">        leftNode = rightNode;</span><br><span class="line">        rightNode = next;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    pre.next.next = rightNode;</span><br><span class="line">    pre.next = leftNode;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> dummyNode.next;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="15-三数之和"><a href="#15-三数之和" class="headerlink" title="15. 三数之和"></a>15. 三数之和</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> List&lt;List&lt;Integer&gt;&gt; <span class="title function_">threeSum</span><span class="params">(<span class="type">int</span>[] nums)</span> &#123;</span><br><span class="line">        List&lt;List&lt;Integer&gt;&gt; res = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        <span class="type">int</span> <span class="variable">len</span> <span class="operator">=</span> nums.length;</span><br><span class="line">        <span class="keyword">if</span> (len &lt; <span class="number">3</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> res;</span><br><span class="line">        &#125;</span><br><span class="line">        Arrays.sort(nums);</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; len; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (nums[i] &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (i &gt; <span class="number">0</span> &amp;&amp; nums[i] == nums[i - <span class="number">1</span>]) <span class="keyword">continue</span>;</span><br><span class="line">            <span class="type">int</span> <span class="variable">L</span> <span class="operator">=</span> i + <span class="number">1</span>;</span><br><span class="line">            <span class="type">int</span> <span class="variable">R</span> <span class="operator">=</span> len - <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">while</span> (L &lt; R) &#123;</span><br><span class="line">                <span class="type">int</span> <span class="variable">sum</span> <span class="operator">=</span> nums[i] + nums[L] + nums[R];</span><br><span class="line">                <span class="keyword">if</span> (sum == <span class="number">0</span>) &#123;</span><br><span class="line">                    res.add(Arrays.asList(nums[i], nums[L], nums[R]));</span><br><span class="line">                    <span class="keyword">while</span> (L &lt; R &amp;&amp; nums[L] == nums[L + <span class="number">1</span>]) L++;</span><br><span class="line">                    <span class="keyword">while</span> (L &lt; R &amp;&amp; nums[R] == nums[R - <span class="number">1</span>]) R--;</span><br><span class="line">                    L++;</span><br><span class="line">                    R--;</span><br><span class="line">                &#125; <span class="keyword">else</span> <span class="keyword">if</span> (sum &lt; <span class="number">0</span>) &#123;</span><br><span class="line">                    L++;</span><br><span class="line">                &#125; <span class="keyword">else</span> <span class="keyword">if</span> (sum &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                    R--;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="42-接雨水"><a href="#42-接雨水" class="headerlink" title="42. 接雨水"></a>42. 接雨水</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">trap</span><span class="params">(<span class="type">int</span>[] height)</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">res</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    <span class="type">int</span> <span class="variable">left</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    <span class="type">int</span> <span class="variable">right</span> <span class="operator">=</span> height.length - <span class="number">1</span>;</span><br><span class="line">    <span class="type">int</span> <span class="variable">maxLeft</span> <span class="operator">=</span> <span class="number">0</span>, maxRight = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (left &lt; right) &#123;</span><br><span class="line">        maxLeft = Math.max(height[left], maxLeft);</span><br><span class="line">        maxRight = Math.max(height[right], maxRight);</span><br><span class="line">        <span class="keyword">if</span> (maxLeft &lt; maxRight) &#123;</span><br><span class="line">            res += maxLeft - height[left];</span><br><span class="line">            left++;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            res += maxRight - height[right];</span><br><span class="line">            right--;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="1-两数之和"><a href="#1-两数之和" class="headerlink" title="1. 两数之和"></a>1. 两数之和</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span>[] twoSum(<span class="type">int</span>[] nums, <span class="type">int</span> target) &#123;</span><br><span class="line">    <span class="type">int</span>[] res = &#123;&#125;;</span><br><span class="line">    <span class="comment">// key是index，value是值</span></span><br><span class="line">    HashMap&lt;Integer, Integer&gt; map = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; nums.length; i++) &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">isInMap</span> <span class="operator">=</span> target - nums[i];</span><br><span class="line">        <span class="keyword">if</span> (map.get(isInMap) != <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">int</span>[]&#123;map.get(isInMap), i&#125;;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            map.put(nums[i], i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="236-二叉树的最近公共祖先"><a href="#236-二叉树的最近公共祖先" class="headerlink" title="236. 二叉树的最近公共祖先"></a>236. 二叉树的最近公共祖先</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> TreeNode <span class="title function_">lowestCommonAncestor</span><span class="params">(TreeNode root, TreeNode p, TreeNode q)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (root == <span class="literal">null</span> || root == p || root == q) &#123;</span><br><span class="line">            <span class="comment">//只要当前根节点是p和q中的任意一个，就返回（因为不能比这个更深了，再深p和q中的一个就没了）</span></span><br><span class="line">            <span class="keyword">return</span> root;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//根节点不是p和q中的任意一个，那么就继续分别往左子树和右子树找p和q</span></span><br><span class="line">        <span class="type">TreeNode</span> <span class="variable">left</span> <span class="operator">=</span> lowestCommonAncestor(root.left, p, q);</span><br><span class="line">        <span class="type">TreeNode</span> <span class="variable">right</span> <span class="operator">=</span> lowestCommonAncestor(root.right, p, q);</span><br><span class="line">        <span class="comment">//p和q都没找到，那就没有</span></span><br><span class="line">        <span class="keyword">if</span>(left == <span class="literal">null</span> &amp;&amp; right == <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//左子树没有p也没有q，就返回右子树的结果</span></span><br><span class="line">        <span class="keyword">if</span> (left == <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> right;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//右子树没有p也没有q就返回左子树的结果</span></span><br><span class="line">        <span class="keyword">if</span> (right == <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> left;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//左右子树都找到p和q了，那就说明p和q分别在左右两个子树上，所以此时的最近公共祖先就是root</span></span><br><span class="line">        <span class="keyword">return</span> root;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="自我介绍"><a href="#自我介绍" class="headerlink" title="自我介绍"></a>自我介绍</h1><ul>
<li>面试官您好，我叫李天驰，本科CS专业。24年毕业于唐山学院。从23年8月至今，一直在中科院软件所做Java后端开发，负责一个B/S架构的文本类AIGC项目，对系统稳定性建设、性能优化、线上问题处理等方面都有着自己深刻的理解。在实习期间，拿到了多次月度优秀实习生和年度优秀实习生的表彰。面试字节客服平台的研发岗位，一个原因是很看好目前这个项目的发展前景，另外，我自身也有AI聊天机器人的开发经验，如果这个客服业务也会接入AI的话，那我可以快速复用和持续提升。技术栈是Springboot、MyBatis、Redis、消息队列（我手搓的）、DAG调度器（我手搓的）、常用设计模式等</li>
<li>项目成果：业务迭代已接近尾声，开题报告、毕业论文、PPT生成效果，可以说是同类产品的天花板了，同时也获得了稳定的收入。由于整个项目后端基本上是我一个人开发的，</li>
<li>整个项目的难点主要是各种文档格式的生成，以及PPT的生成。</li>
<li>我比较熟悉的技术栈是 Springboot框架相关的，数据库使用的是MySQL，同时用Redis做缓存。</li>
<li><p>自我评价一下的话，我感觉我自身是很热爱编程的，把编程当做一种高阶玩具来对待的。也希望通过自己的代码能力，对身边人有所帮助吧。</p>
</li>
<li><p>平时个人爱好就是打游戏、做游戏Mod、做自己的小项目、捣鼓博客，目前都想结合大模型的能力来开发，游戏方面是想爬对应游戏的wiki，用有道的那个QAnything做知识库问答，然后集成到游戏NPC里，相当于一个更智能的NPC。另一个项目是NanBot，一开始是想着调QQ的API，定时给好友发消息，提醒他该学习了。但后来做着做着，发现可以和大模型的能力结合，然后还可以模拟一些对话场景。这些东西我感觉和咱们的客服业务有很大的重叠部分，例如建立一个常用问题的知识库，然后对Question做特征提取，随后对于用户的input也做特征提取，检索相似的问题（BY THE WAY，豆包的embedding提取挺不错的，之前项目用的是BGE-M3，最后换成豆包了）。这周末接到HR电话之前，我还在捣鼓博客，加一个AI摘要、朋友圈系统。结合搭建的知识库问答。而且最近热搜是的政务系统都接入了DeepSeek作为AI公务员，让我感觉到了我正在做的事情对社会有意义。</p>
</li>
</ul>
<h1 id="设计模式与架构设计"><a href="#设计模式与架构设计" class="headerlink" title="设计模式与架构设计"></a>设计模式与架构设计</h1><ul>
<li>S: 在我们项目里，中期有很长一段时间都在增加新功能以丰富受众范围，例如开题报告、毕业论文、答辩PPT、文献综述等，这些任务的执行流程都很类似。主要分为：根据自身业务参数创建任务、轮询任务进度、根据算法结果json渲染成docx文档、设置订单状态为已完成这四部分。</li>
<li>T: 为了提升代码的复用性、扩展性以及后续的可维护性，我需要抽取重复逻辑，让开发者只关注如何生成文档，而不需要考虑订单状态设置等操作。</li>
<li>A: 为了解决上述问题，我借鉴模板模式的设计理念，采取了策略模式 + 函数式接口的方式来实现。<ul>
<li>将创建和轮询任务封装为一个函数式接口，开发者只需要传入lambda表达式即可。</li>
<li>轮询任务需要返回最终的算法json，然后再传入一个函数式接口，该函数式接口会根据json生成文档。</li>
<li>降低了代码的复杂度，同时实现了解耦。</li>
</ul>
</li>
<li>R: 通过这次优化，代码减少50%以上，同时新增其他文档生成功能时，只需要将注意力放在创建和轮询算法任务，以及最终的文档生成即可，而不需要关注其他的业务细节，显著提升了开发效率。</li>
</ul>
<h2 id="为什么不直接用模板模式？"><a href="#为什么不直接用模板模式？" class="headerlink" title="为什么不直接用模板模式？"></a>为什么不直接用模板模式？</h2><ul>
<li>“模板模式虽然可以抽取公共逻辑，但它的主要问题是每种文档类型都需要单独定义一个子类，导致类数量激增，管理困难。而且，一旦公共逻辑变化，所有子类都需要同步修改，维护成本很高。相比之下，策略模式 + 函数式接口 可以让开发者只关注业务逻辑，而不需要关注继承结构，提高了代码的灵活性。”</li>
</ul>
<h2 id="轮询是主动拉取还是事件驱动？"><a href="#轮询是主动拉取还是事件驱动？" class="headerlink" title="轮询是主动拉取还是事件驱动？"></a>轮询是主动拉取还是事件驱动？</h2><ul>
<li>最开始，我希望用事件驱动，提供一个回调接口给算法端，这样任务完成后算法可以主动通知我，避免不必要的轮询开销，同时代码也比较优雅。但后来产品团队要求实时展示任务进度，这使得事件驱动的效果大打折扣。即使算法端回调，我仍然需要定期获取进度。而且，算法团队的同学对业务场景不太熟悉，让他们去管理回调逻辑反而增加了沟通成本。因此，我最终选择了主动轮询，这样进度展示逻辑可以完全由我掌控。</li>
</ul>
<h1 id="SSE"><a href="#SSE" class="headerlink" title="SSE"></a>SSE</h1><ul>
<li>你提到了使用 SSE 替代轮询，可以具体讲讲它的 实现方式、优缺点，以及相比 WebSocket 方案的取舍？</li>
<li>首先，轮询的最大问题是“低效”。比如说，客户端每隔 5 秒去请求一次服务器，结果可能 99% 的请求都查不到新数据，白白浪费了服务器资源。而且，轮询的间隔时间也很难调，太短会加大服务器压力，太长又可能让用户感觉“反应慢”。而SSE由服务端主动推送，那此时服务端可以等到有新消息的时候再进行推送，减少了不必要的网络开销。并且SSE是基于长连接的，连接一旦建立，服务器可以不断推送消息，客户端自动接受，做到真正的低延迟、高实时性。我业务场景里是在微信扫码登录和订单状态轮询时使用了SSE，文本降重业务，算法会返回部分已经处理完的文本，也是通过SSE实时推送 + 前端打字机的实现，模拟ChatGPT的流式输出的。包括我看了一下豆包的网页版，也是基于SSE的。</li>
</ul>
<h1 id="MySQL行锁"><a href="#MySQL行锁" class="headerlink" title="MySQL行锁"></a>MySQL行锁</h1><blockquote>
<ul>
<li>在MySQL并发控制中，你是如何利用行锁(SELECT FOR UPDATE)避免并发冲突的？是否评估过可能导致的性能瓶颈？</li>
<li>MySQL中使用行锁，主要是用户在下单的时候，会有免费的字数额度、优惠券使用。那么在下单的时候就需要暂扣这些字数和优惠券，当用户取消订单的时候需要归还。由于这个字数是存储在数据库里的，所以当时的解决方案就是加行锁，避免并发条件下同一个用户下单时，字数扣减出现问题。例如用户有1000免费字数，同时下了2单，每单消耗800字数，如果不加行锁限制的话，这两单都能创建成功，当用户取消订单的时候，就会返还1600字数。从而导致问题的出现。我的行锁的使用方式是通过SELECT XXX FROM USER WHERE USER_ID = XXX FOR UPDATE。</li>
<li>需要注意的是，使用SELECT FOR  UPDATE的时候，若查询条件使用了索引或者主键时，会使用行锁，当使用普通字段时，则会使用表锁</li>
</ul>
<p>问题： SELECT … FOR UPDATE 在高并发下可能会导致性能瓶颈，该如何优化？</p>
<ul>
<li>思路：行锁是悲观锁，意味着并发写入的线程会被阻塞，尤其是热点数据（比如用户表的字数字段）。如果有大量并发下单请求，可能导致锁等待时间过长，影响吞吐量。<ol>
<li>减少锁的持有时间，不要在事务里做其他无关的操作</li>
</ol>
</li>
</ul>
<p>问题： 如果事务回滚，如何保证字数额度和优惠券正确恢复？</p>
<ul>
<li>思路：如果订单创建过程中出现异常（比如优惠券已被使用、数据库异常），MySQL 事务会回滚，那么 FOR UPDATE 加的锁也会被释放，数据自动恢复。<ol>
<li>一般来说，只要事务正常回滚，数据就不会扣减。</li>
</ol>
</li>
</ul>
<p>问题： 为什么不用乐观锁？乐观锁如何实现？</p>
<ul>
<li>我现在用的是 悲观锁（SELECT … FOR UPDATE），它的好处是简单直接，缺点是并发高时容易导致锁竞争。</li>
<li>而 乐观锁 适用于 读多写少 的场景，比如用户同时下单的情况，我们可以用 版本号机制 或 CAS 操作。<ul>
<li>乐观锁实现可以在表中增加一个版本号字段，在更新操作的时候，设置版本号+1，同时判断当前版本号是否仍是之前的值。通过返回的更新条数判断是否更新成功。如果刚刚使用乐观锁的话，那么执行流程是这样的。账户中有1000个字，A和B同时下单，A和B同时读取到1000个字，于是A操作<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">UPDATE</span> user_info <span class="keyword">SET</span> words <span class="operator">=</span> words <span class="operator">-</span> <span class="number">800</span>, version <span class="operator">=</span> version <span class="operator">+</span> <span class="number">1</span> <span class="keyword">where</span> id <span class="operator">=</span> <span class="number">1</span> <span class="keyword">and</span> version <span class="operator">=</span> <span class="number">0</span></span><br></pre></td></tr></table></figure></li>
<li>执行完毕后，user_info变成了 200, 1</li>
<li>B执行的时候<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">UPDATE</span> user_info <span class="keyword">SET</span> words <span class="operator">=</span> words <span class="operator">-</span> <span class="number">800</span>, version <span class="operator">=</span> version <span class="operator">+</span> <span class="number">1</span> <span class="keyword">where</span> id <span class="operator">=</span> <span class="number">1</span> <span class="keyword">and</span> version <span class="operator">=</span> <span class="number">0</span></span><br></pre></td></tr></table></figure></li>
<li>但此时version已经是1了，所以条件不成立，B更新失败，update返回0行</li>
<li>随后再进行重试或者直接失败的机制</li>
</ul>
</li>
</ul>
</blockquote>
<h1 id="自研消息队列替代kafka"><a href="#自研消息队列替代kafka" class="headerlink" title="自研消息队列替代kafka"></a>自研消息队列替代kafka</h1><ul>
<li>替代kafka的原因是，组内的成员对kafka都不了解，同时引入了新的组件，运维和排错成本高。自研消息队列的好处是，调用流程透明，降低学习成本，可根据自身业务来客制化调整。对于消息积压，我业务背景的任务执行时间是很长，但是瓶颈主要在于算法服务生成文档的json。采取的解决方案是飞书报警。消息丢失从逻辑上不太可能，上线至今未出现过。重复消费问题在正常流程下不存在，不会出现多个线程同时消费一个任务的情况，因为在添加任务的时候，指定好了队列的topic，就算任务重试也只是在同一个topic的队列里执行。如果任务在执行完毕后，又重新执行了，这个也是不会存在的，因为我从业务逻辑上判断了幂等性，仅仅当任务状态为未执行的时候，队列才会消费任务，否则直接处理完成。</li>
<li>那我再简单说一下我自研的轻量级消息队列的实现吧，本质上更像一个带队列的线程池，但也结合了消息队列的生产者/消费者模型<ul>
<li>✅ 1. 清晰的任务管理逻辑</li>
<li>使用 ArrayBlockingQueue 作为任务队列，可以有效控制队列大小，避免无限增长导致 OOM。</li>
<li>采用 Processor<T> 接口，使任务处理逻辑可插拔，符合开闭原则。</li>
<li>通过多个 TaskQueueExecutor 线程，支持多队列并行消费，提高吞吐量。</li>
<li>✅ 2. 线程安全</li>
<li>queue.put(task) + AtomicInteger 组合，保证了任务的并发安全性。</li>
<li>queue.take() 方式天然支持阻塞等待，避免 CPU 空转。</li>
<li>✅ 3. 分区调度策略</li>
<li>手动实现了 Kafka-like 的分区机制，任务进入队列时：</li>
<li>选择当前任务数最少的队列，防止某个队列任务积压 (reduce 计算)。</li>
<li>torder.setZone(partition); 记录任务分配到哪个队列，任务失败重试时会加入到原有的队列中，避免一个异常任务将所有队列都阻塞。</li>
<li>幂等性保证：数据库 updateById 记录任务状态，避免任务重复消费。</li>
<li>✅ 4. 消息积压和异常处理</li>
<li>超过 100 个任务时，自动告警飞书（第三方 thirdManager.sendExceptionToFeiShu）。</li>
<li>try-catch-finally 确保任务计数不会因异常处理导致错误数据。</li>
<li>✅ 5. 系统启动时自动加载未完成任务</li>
<li>@PostConstruct 方法：</li>
<li>从数据库加载未完成的任务，防止宕机丢任务（类似 Kafka 重启恢复消费）。</li>
<li>可通过配置项开关，开发环境避免影响测试。</li>
</ul>
</li>
</ul>
<h1 id="DAG的数据结构、可视化及失败如何重试"><a href="#DAG的数据结构、可视化及失败如何重试" class="headerlink" title="DAG的数据结构、可视化及失败如何重试"></a>DAG的数据结构、可视化及失败如何重试</h1><ul>
<li><p>三个HashMap实现的，第一个HashMap存储的事taskId和依赖的taskId列表，第二个HashMap存储的是taskId和对应的执行函数，第三个HashMap存储的事taskId节点的度。</p>
<ul>
<li>当添加任务时，首先初始化taskId和对应的执行函数，同时初始化taskId的度为0，同时初始化依赖的taskId列表为空。</li>
<li>当添加任务的依赖时，子任务的度 + 1，同时添加子任务的依赖的taskId列表。</li>
<li>任务执行时采用拓扑排序（BFS），指定根节点开始执行，对于同一层的任务我这里是使用线程池来并行执行的，可以提升整个任务的执行效率。</li>
<li>当一个任务执行完毕后，遍历其子任务，将子任务的度 - 1，如果度 == 0，则加入队列中执行。</li>
</ul>
</li>
<li><p>任务状态的追踪我是通过订单状态来判断的、任务失败会将整个图重试，重试时通过订单状态做幂等性判断，对于完成的节点直接略过。我的业务背景是，在创建订单的时候就已经把任务依赖初始化好了，图在执行过程中是个静态的，并且也不会出现环的状况，同时目前的任务依赖关系较为简单，实际结构更类似一个树。图任务在执行的时候，对于同一层的任务，我这里是使用线程池来并行执行的，可以提升整个任务的执行效率。</p>
</li>
</ul>
<h1 id="印象深刻问题"><a href="#印象深刻问题" class="headerlink" title="印象深刻问题"></a>印象深刻问题</h1><ul>
<li><p>工作中遇到的印象最深刻的问题：</p>
<ul>
<li>背景：项目中需要对docx、pdf、html做很复杂的解析，所以我使用JD-GUI反编译了Aspose的jar包，找到setLicense方法，并且用javassist修改逻辑，完成破解。<ul>
<li>过了几个月，收到了一个告知函，要求尽快停止aspose。</li>
</ul>
</li>
<li>由于这个依赖是整个项目的命脉，当时我首先想到的方案是，再看看源码，是不是哪里发消息了。但是这样的风险就是代价太大，而且会面临找不全的问题。</li>
<li>然后我就使用planB，环境隔离。具体实施方案就通过将文档处理服务封装到Docker容器中运行，并设置—network none选项来切断网络连接，从而确保服务不会尝试向外部服务器发送请求。</li>
<li>使用java -jar的方式启动服务的时候，JVM会寻找唯一的main方法作为程序的入口类，同时命令后续的参数也会传入到main方法中的String数组，那么就可以基于这个参数来做路由，转发不同的任务类型并生成了。</li>
<li>随后用Python封装接口，接收原本业务传递的任务类型、任务参数等信息，随后通过命令行的方式启动容器来生成文档。</li>
</ul>
</li>
<li><p>另一个印象深刻的问题是在生成毕业论文时，我需要插入公式以丰富内容。然而，使用的SDK对公式的支持较为有限，因此我只能寻求其他解决方案。具体来说，我让大模型生成Latex格式的公式，然后将其转换为MathML格式，接着使用Word提供的MML2OMML.XSL文件进行转换。然而，这一转换过程依赖于.NET生态系统。</p>
<ul>
<li>转换完成后，还需要对生成的Docx文档进行校验，因为大模型输出的公式可能不完全正确，即便正确，也未必能在Word文档中正常渲染。为了解决这个问题，我使用了微软的OpenXML SDK来检查文档的有效性。确认无误后，我会将公式临时保存，并利用Aspose读取公式节点，将其拷贝并插入到Docx文件中，最终完成公式的插入。</li>
<li>不过，Mac版WPS存在一个bug，导致其未正确使用我在底层XML结构中设置的字体，导致公式无法正确渲染。为了解决这个问题，我安装了一个Windows虚拟机，并在其中安装了Word。通过命令行使用Word对文档进行另存为操作，再用Mac版WPS打开保存后的文件，最终成功解决了公式渲染问题。</li>
</ul>
</li>
</ul>
<h1 id="Redisson"><a href="#Redisson" class="headerlink" title="Redisson"></a>Redisson</h1><h2 id="Redisson-延迟队列的底层实现原理"><a href="#Redisson-延迟队列的底层实现原理" class="headerlink" title="Redisson 延迟队列的底层实现原理"></a>Redisson 延迟队列的底层实现原理</h2><pre><code>- 数据结构：Redisson 的延迟队列主要依赖于 Redis 的有序集合（Sorted Set）来实现。有序集合中的每个元素都有一个分数（score），这个分数在延迟队列中代表任务的执行时间戳。
- 任务入队：当你向 Redisson 的延迟队列添加一个任务时，这个任务会被作为有序集合的一个成员添加进去，其分数为当前时间加上延迟的时间（即期望的执行时间）。这样就实现了根据任务应该被执行的时间来排序的目的。
- 任务调度与执行：
    - Redisson 通过后台线程定期检查有序集合中是否有任务已经到了执行时间（即其分数小于等于当前时间戳）。
    - 如果发现有到期的任务，则将其从有序集合中移除，并将该任务提交到执行线程池中去执行实际逻辑。
</code></pre><h2 id="Redis-宕机或重启时，如何保证延迟任务不丢失"><a href="#Redis-宕机或重启时，如何保证延迟任务不丢失" class="headerlink" title="Redis 宕机或重启时，如何保证延迟任务不丢失"></a>Redis 宕机或重启时，如何保证延迟任务不丢失</h2><p>在 Redis 宕机或重启的情况下，延迟任务的丢失问题主要是由于 Redis 本身的 内存存储性质，如果没有适当的持久化机制，内存中的数据就会丢失。因此，需要利用 Redis 的 持久化机制 来保证数据的持久化。</p>
<h3 id="RDB"><a href="#RDB" class="headerlink" title="RDB"></a>RDB</h3><ul>
<li>RDB 是 快照（Snapshotting） 机制，它会在 特定时间点 将 Redis 的数据快照保存到磁盘，形成 .rdb 文件。Redis 可以在重启时加载 RDB 文件来恢复数据。<ul>
<li>自动触发的save规则在redis的配置文件中进行配置<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">save 900 1  # 900秒（15分钟）至少发生1次写操作</span><br><span class="line">save 300 10 # 300秒（5分钟）至少发生10次写操作</span><br><span class="line">save 60 10000 # 60秒至少发生10000次写操作</span><br></pre></td></tr></table></figure></li>
<li>当 Redis 执行 shutdown 时，也会自动生成 RDB 快照（除非配置 shutdown save no）</li>
</ul>
</li>
<li>RDB 的优缺点<ul>
<li>性能开销小：RDB 采用 子进程 进行数据快照，不影响 Redis 主线程的读写操作。</li>
<li>文件体积小：RDB 是二进制压缩格式，占用磁盘空间小，恢复速度快。</li>
<li>适合灾难恢复：在 Redis 整个实例崩溃后，可以通过 RDB 迅速恢复数据。</li>
</ul>
</li>
<li>缺点<ul>
<li>可能丢数据：RDB 是定期快照，如果 Redis 崩溃，最后一次快照之后的数据就会丢失。</li>
<li>写入压力大：每次 RDB 生成快照时，都会 fork 子进程，导致额外的 CPU 和内存消耗，数据量大时可能影响性能。</li>
</ul>
</li>
</ul>
<h3 id="AOF"><a href="#AOF" class="headerlink" title="AOF"></a>AOF</h3><ul>
<li>AOF 采用 日志追加（Append-Only） 机制，记录每一次写入操作，并在 Redis 重启时 重放日志 来恢复数据。</li>
<li>AOF 的刷盘策略影响 Redis 的数据安全性和性能，可通过 appendfsync 配置：<ul>
<li>always（每次写入立即刷盘）：<ul>
<li>最安全，但 性能最差，每次写入都要同步到磁盘。</li>
<li>适用于 数据强一致性 场景（如金融系统）。</li>
</ul>
</li>
<li>everysec（默认，每秒写入一次）：<ul>
<li>性能和安全性折中，Redis 在 后台线程 每秒刷盘一次。</li>
<li>宕机可能丢失最近 1 秒的数据，适用于大多数业务。</li>
</ul>
</li>
<li>no（操作系统决定刷盘时机）：<ul>
<li>最高性能，但可能丢失较多数据。</li>
<li>适用于 对数据丢失不敏感的高性能业务（如缓存）。<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">appendfsync always   # 每次写入都立即刷盘，最安全但性能最差</span><br><span class="line">appendfsync everysec # 每秒刷盘一次（默认），兼顾安全和性能</span><br><span class="line">appendfsync no       # 由操作系统决定刷盘时机，性能最高但数据丢失风险最大</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
</li>
<li><p>AOF 的优缺点</p>
<ul>
<li>优点<ul>
<li>数据安全性高：AOF 记录每一次写操作，比 RDB 丢失数据的概率更低。</li>
<li>文件可读：AOF 以文本格式存储，可以直接编辑修改数据。</li>
<li>适合持久化业务：适用于数据不可丢失的场景，如订单、支付系统等。</li>
</ul>
</li>
<li>缺点  <ul>
<li>性能开销较大：AOF 需要不断追加日志，文件较大，影响写入性能。</li>
<li>恢复速度慢：AOF 需要重放日志，尤其是文件过大时，重启恢复较慢。</li>
</ul>
</li>
</ul>
</li>
<li><p>RDB 和 AOF 的最佳实践</p>
<ul>
<li>为了兼顾 性能 和 数据安全性，通常采用 RDB + AOF 结合使用，即：<ul>
<li>使用 RDB 进行定期快照，适用于灾难恢复。</li>
<li>使用 AOF 记录每次写入，避免数据丢失。</li>
</ul>
</li>
</ul>
</li>
</ul>
<ol>
<li>数据库存储任务信息作为兜底手段<br>尽管 Redis 提供了强大的内存数据存储和高效的延迟队列功能，但 Redis 毕竟是内存数据库，在极端情况下（如宕机时没有持久化设置、磁盘故障等）可能会出现数据丢失的风险。为了更高的可靠性，可以引入 数据库 作为任务信息的备份存储手段。</li>
</ol>
<p>(1) 在数据库中存储延迟任务<br>在任务被加入到 Redis 延迟队列之前，可以将任务信息（如任务 ID、执行时间、任务内容等）存入数据库（如 MySQL 或 PostgreSQL）。<br>任务信息可以存储在一张 延迟任务表 中，包含任务的 ID、预定执行时间、状态等字段。<br>(2) Redis 与数据库的配合<br>在任务进入 Redis 延迟队列时，数据库中的任务状态可以更新为“待执行”。</p>
<p>当 Redis 恢复（或任务被消费）时，任务的状态也可以更新为“已完成”或“已取消”。这样，即使 Redis 宕机，数据库中的任务信息也不会丢失。</p>
<p>如果 Redis 宕机或重启，可以通过定期任务从数据库读取尚未执行的延迟任务，将其重新加入 Redis 延迟队列中，确保任务的延迟逻辑不丢失。</p>
<p>例如：</p>
<p>定期执行 数据库恢复任务，将所有预定执行时间小于当前时间的任务从数据库中提取出来，并重新加入 Redis 延迟队列。<br>sql<br>复制<br>编辑<br>SELECT * FROM delayed_tasks WHERE execute_time &lt;= NOW() AND status = ‘pending’;<br>这样可以确保无论 Redis 是否正常，延迟任务都不会丢失，并且可以按时执行。</p>
<p>(3) 数据库和 Redis 一致性<br>由于数据库存储的延迟任务是 最终一致性，在实际实现时，需要考虑 Redis 与数据库之间的一致性。可以通过事务、消息队列或补偿机制来保证 Redis 和数据库的状态一致性。</p>
<h1 id="二值哈希降维"><a href="#二值哈希降维" class="headerlink" title="二值哈希降维"></a>二值哈希降维</h1><ul>
<li><p>使用二值哈希进行特征降维</p>
<ol>
<li><strong>获取 embedding</strong>：假设已经有一个特征向量（embedding）。</li>
<li><strong>随机生成哈希矩阵</strong>：生成一个随机矩阵 <code>W</code>，维度与 embedding 相匹配。例如，如果 embedding 是 128 维的，可以随机生成一个 128 维的哈希向量 <code>w</code>，或者生成多个向量组成矩阵。</li>
<li><strong>线性变换</strong>：将 embedding <code>v</code> 与哈希矩阵 <code>W</code> 相乘，得到一个新的向量 <code>y = v ⋅ W</code>。</li>
<li><p><strong>二值化</strong>：对于 <code>y</code> 中的每个元素：</p>
<ul>
<li>若 <code>y_i &gt; 0</code>，设为 <code>1</code></li>
<li>若 <code>y_i ≤ 0</code>，设为 <code>0</code></li>
</ul>
<p>这样就得到了一个二值向量。</p>
</li>
<li><p><strong>计算相似度</strong>：对于多个二值向量，可以使用 <strong>汉明距离</strong> 计算相似度。汉明距离是指两个二进制向量中不同位数的数量，距离越小，相似度越高。</p>
</li>
</ol>
</li>
</ul>
<h1 id="Java"><a href="#Java" class="headerlink" title="Java"></a>Java</h1><h2 id="Java内存模型"><a href="#Java内存模型" class="headerlink" title="Java内存模型"></a>Java内存模型</h2><p>Java 内存模型（JMM）主要是用来解决并发编程中的可见性、有序性和原子性问题，它定义了线程之间如何共享变量以及内存操作的规则。</p>
<ol>
<li>可见性<br>JMM 规定所有共享变量都存储在主内存（类似一个大仓库），每个线程有自己的工作内存（类似小仓库）。线程读取和修改变量时，会在工作内存中操作，最后再同步回主内存。</li>
</ol>
<p>问题：如果一个线程修改了变量，但没刷新到主内存，其他线程就看不到最新的值。<br>解决方案：volatile 关键字，保证变量修改后立即可见。</p>
<ol>
<li>有序性<br>JMM 允许编译器优化代码执行顺序（指令重排），但保证单线程下的执行结果不变。</li>
</ol>
<p>问题：多线程环境下，指令重排可能导致线程看到的执行顺序不同，影响正确性。<br>解决方案：</p>
<p>volatile 关键字：禁止特定变量的指令重排。<br>synchronized：保证代码块内的指令不会被重排。<br>happens-before 规则：JMM 定义了一系列先行发生规则，比如 锁释放 happens-before 其他线程获取锁，线程 start() happens-before 线程内代码执行 等。</p>
<ol>
<li>原子性<br>原子性保证某些操作不会被线程切换打断，比如 i++ 不是原子操作，因为它涉及读取-修改-写入三步。</li>
</ol>
<p>问题：多个线程对变量同时 i++，可能导致丢失更新。<br>解决方案：</p>
<p>加锁：synchronized 让同一时刻只有一个线程修改变量。<br>CAS 自旋：AtomicInteger 用 compareAndSet() 方式乐观更新，底层是 CPU 指令级别的原子操作。</p>
<h1 id="SpringBoot"><a href="#SpringBoot" class="headerlink" title="SpringBoot"></a>SpringBoot</h1><h2 id="AOP"><a href="#AOP" class="headerlink" title="AOP"></a>AOP</h2><ul>
<li>日志记录：在方法执行前后打印入参、返回值、执行时间。</li>
<li>Spring AOP 依赖 JDK 动态代理（基于 Proxy）或 CGLIB（基于子类增强）。<ul>
<li>JDK 动态代理：接口代理，Proxy.newProxyInstance() 生成代理对象。</li>
<li>CGLIB：生成目标类的子类，重写方法。</li>
</ul>
</li>
<li>AOP结合MDC、logback，将日志写入ELK，便于追踪订单上下文。</li>
<li>MDC原理？</li>
</ul>
<h2 id="事务传播机制"><a href="#事务传播机制" class="headerlink" title="事务传播机制"></a>事务传播机制</h2><ul>
<li>事务传播机制控制方法在事务中的行为。Spring 默认是 REQUIRED，也就是如果有事务就加入，没有就新建。</li>
<li>我还了解 REQUIRES_NEW（不管外部事务，自己新开一个事务）和 NESTED（开启子事务）。</li>
<li>大多数业务场景用 REQUIRED 就够了，只有在需要独立事务时才会用 REQUIRES_NEW</li>
</ul>
<h2 id="MDC-amp-ThreadLocal"><a href="#MDC-amp-ThreadLocal" class="headerlink" title="MDC &amp; ThreadLocal"></a>MDC &amp; ThreadLocal</h2><ul>
<li>MDC（Mapped Diagnostic Context）的原理基于 ThreadLocal，它的核心作用是 为当前线程存储上下文信息，并在日志框架（如 Logback、Log4j）中自动输出这些上下文信息，方便日志排查。</li>
<li>MDC 的 核心实现是基于 ThreadLocal，因为它要确保 一个线程中的日志信息不会影响到其他线程。</li>
<li>ThreadLocal 是 Java 提供的一种线程变量存储机制，它为每个线程提供一个独立的变量副本，线程之间互不影响。</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br></pre></td><td class="code"><pre><span class="line">字节跳动Java面经（已offer）</span><br><span class="line"><span class="number">5.15</span> 一面（<span class="number">3</span>点开始，<span class="number">80</span>分钟）</span><br><span class="line"><span class="number">1.</span>自我介绍，聊了聊学校近况</span><br><span class="line"></span><br><span class="line"><span class="number">2.</span>Java 集合框架，看了哪些源码，arraylist、linkedlist原理，让你实现一个 hashmap 机会如何设计（没让手写😂）</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># ArrayList底层剖析</span><br><span class="line">- 底层结构：基于动态数组实现，允许随机访问。</span><br><span class="line"></span><br><span class="line">- 构造方法：</span><br><span class="line">    - 默认构造器初始化一个空数组，首次添加元素时扩容至默认容量（<span class="number">10</span>）。</span><br><span class="line">    - 可指定初始容量以减少扩容开销。</span><br><span class="line"></span><br><span class="line">- 扩容机制：当容量不足时，按旧容量的<span class="number">1.5</span>倍扩容，使用Arrays.copyOf复制数据。</span><br><span class="line">    <span class="keyword">private</span> Object[] grow(<span class="type">int</span> minCapacity) &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">oldCapacity</span> <span class="operator">=</span> elementData.length;</span><br><span class="line">        <span class="keyword">if</span> (oldCapacity &gt; <span class="number">0</span> || elementData != DEFAULTCAPACITY_EMPTY_ELEMENTDATA) &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">newCapacity</span> <span class="operator">=</span> ArraysSupport.newLength(oldCapacity,</span><br><span class="line">                    minCapacity - oldCapacity, <span class="comment">/* minimum growth */</span></span><br><span class="line">                    oldCapacity &gt;&gt; <span class="number">1</span>           <span class="comment">/* preferred growth */</span>);</span><br><span class="line">            <span class="type">return</span> <span class="variable">elementData</span> <span class="operator">=</span> Arrays.copyOf(elementData, newCapacity);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="type">return</span> <span class="variable">elementData</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Object</span>[Math.max(DEFAULT_CAPACITY, minCapacity)];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">- 操作复杂度：</span><br><span class="line">    - 查询（get/set）为O(<span class="number">1</span>)。</span><br><span class="line">    - 插入/删除（需移动元素）平均为O(n)。</span><br><span class="line"></span><br><span class="line">- 关键源码：</span><br><span class="line">    - add(E e)：检查容量，不足则扩容。</span><br><span class="line">    - remove(<span class="type">int</span> index)：移动后续元素并调整大小。</span><br><span class="line">    - remove(Object o)：遍历查找并删除，理论上时间复杂度是O(2n)。</span><br><span class="line"></span><br><span class="line"># LinkedList原理</span><br><span class="line">- 双向链表：LinkedList底层是由双向链表实现的，每个节点包含前驱和后继的引用，以及存储的元素.</span><br><span class="line"></span><br><span class="line">- 插入和删除效率高，因为不需要移动元素，插入和删除的操作的时间复杂度是O(<span class="number">1</span>)，但前提是已经持有了要操作的节点的引用。</span><br><span class="line"></span><br><span class="line">- 但是访问速度慢，需要从头到尾遍历链表找到指定元素，时间复杂度是O(n)。</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="number">1.</span> HashMap其实就是一种数据结构，可以分两部分来理解，也就是hash和map</span><br><span class="line"><span class="number">2.</span> map也就意味着这种集合所存储的数据是KV键值，而hashmap呢也是派生自Map接口，hashmap也是hash表的一种实现方式，（hash表是一种基础的数据结构，其利用了数组的下标可以随机访问的特性，实现了一种可以快速存取的数据结构，存取操作实现复杂度都能接近O(<span class="number">1</span>)，hash表根据存入的数据进行一次hash运算得到一个结果，在通过这个结果，运算出其应处于数组下标的位置，并直接存储）</span><br><span class="line"><span class="number">3.</span> 回到hashmap，hashmap获取K调用hashcode方法，得到一个hash值，hashmap对这个hash值进行优化，利用高位和低位进行异或运算，目的是为了让高位和低位都可以参与到hash的运算，让hashmap存储的元素分布更均匀，同理，获取元素是通过hash算法得到具体数据所处在的下标位置，并直接获取即可，时间复杂堵O(<span class="number">1</span>)</span><br><span class="line"><span class="number">4.</span>  hash表所存在的问题：我们无法保证两个不一样的数据其hash值一定不一样，更何况要让这些数据都散落到数组当中，数组的下标是有限的，因此hash冲突是不可避免。因此hash冲突时，可以通过线性探测法，rehash，链表法等一系列方案来解决hash冲突。</span><br><span class="line"><span class="number">5.</span> hashmap解决hash冲突的方法时链表法，同时hashmap的链表最大长度是<span class="number">8</span>，这是由于<span class="number">8</span>是一种工业最佳实践，其是根据泊松分布得出的一个结果（同时是<span class="number">2</span>的三次方，运算时性能会好点）</span><br><span class="line"><span class="number">6.</span> hashmap的扩容机制：由“负载因子”决定，当hashmap的数据长度，≥负载因此*数组长度，hashmap扩容</span><br><span class="line"><span class="number">7.</span> hashmap的链表树化机制：</span><br><span class="line">    - jdk1<span class="number">.8</span>之后，引入了红黑树这么一种数据结构，链表上的节点个数（数据个数）大于等于<span class="number">8</span>时并且数组长度不小于<span class="number">64</span>的时候，链表数据结构自动进行树化转化成红黑树，当链表上的数据小于等于<span class="number">6</span>个时，又会自动退化成链表。</span><br><span class="line">    - 如果数组的长度小于<span class="number">64</span>的话链表数据个数达到了<span class="number">8</span>的话也不会转化成红黑树，而是先进行扩容，直到数组长度达到<span class="number">64</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="number">3.</span>线程池的执行过程、核心参数以及常用的几个线程池（感觉每次面试都会问😂）</span><br><span class="line"></span><br><span class="line">⚡️ 线程池的执行过程（<span class="number">7</span>步核心流程）</span><br><span class="line"><span class="number">1.</span> 任务提交</span><br><span class="line">    - execute(Runnable task) 或 submit(Callable task) 提交任务到线程池。</span><br><span class="line"></span><br><span class="line"><span class="number">2.</span> 核心线程分配</span><br><span class="line">    - 检查当前核心线程数（corePoolSize）是否已满：</span><br><span class="line">    - 未满 → 创建新线程执行任务（即使有空闲线程）。</span><br><span class="line">    - 已满 → 进入下一步。</span><br><span class="line"></span><br><span class="line"><span class="number">3.</span> 任务入队</span><br><span class="line">    - 尝试将任务添加到工作队列（BlockingQueue）：</span><br><span class="line">    - 队列未满 → 任务进入队列等待。</span><br><span class="line">    - 队列已满 → 进入下一步。</span><br><span class="line"></span><br><span class="line"><span class="number">4.</span> 扩容至最大线程</span><br><span class="line">    - 检查当前线程数是否达到最大线程数（maximumPoolSize）：</span><br><span class="line">    - 未达 → 创建临时线程（非核心线程）执行任务。</span><br><span class="line">    - 已达 → 进入拒绝策略。</span><br><span class="line"></span><br><span class="line"><span class="number">5.</span> 队列消费</span><br><span class="line">    - 工作队列中的任务由空闲线程（核心或临时）按队列策略（FIFO等）消费。</span><br><span class="line"></span><br><span class="line"><span class="number">6.</span> 临时线程回收</span><br><span class="line">    - 临时线程在空闲时间超过存活时间（keepAliveTime）后被销毁，直到线程数降至核心线程数。</span><br><span class="line"></span><br><span class="line"><span class="number">7.</span> 拒绝策略</span><br><span class="line">    - 当线程和队列均满时，触发拒绝策略（如抛异常、丢弃任务等）。</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">- 🔑 核心参数（<span class="number">7</span>大参数）</span><br><span class="line"></span><br><span class="line">|       参数      |                  说明                  |           典型值示例           |</span><br><span class="line">|:---------------:|:--------------------------------------:|:------------------------------:|</span><br><span class="line">|   corePoolSize  | 核心线程数（长期保留的线程，即使空闲） |         CPU密集型：N+<span class="number">1</span>         |</span><br><span class="line">| maximumPoolSize |    最大线程数（核心线程 + 临时线程）   |         IO密集型：2N+<span class="number">1</span>         |</span><br><span class="line">|  keepAliveTime  |    临时线程空闲存活时间（超时销毁）    |               60s              |</span><br><span class="line">|       unit      |              存活时间单位              |        TimeUnit.SECONDS        |</span><br><span class="line">|    workQueue    |      任务队列（缓冲未执行的任务）      |       LinkedBlockingQueue      |</span><br><span class="line">|  threadFactory  |  线程工厂（自定义线程名称、优先级等）  | Executors.defaultThreadFactory |</span><br><span class="line">|     handler     |  拒绝策略（队列和线程满时的处理逻辑）  |    AbortPolicy（默认抛异常）   |</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">- 线程池的核心概念：线程池主要由核心线程数、最大线程数、工作队列（WorkQueue）以及拒绝策略等组成。这些参数共同决定了线程池的行为。</span><br><span class="line">- 任务提交流程：</span><br><span class="line">    <span class="number">1.</span> 当一个任务被提交到线程池时，首先会检查当前运行的线程数量是否少于核心线程数。如果是这样，即使其它线程空闲，也会创建一个新的核心线程来执行这个任务。</span><br><span class="line">    <span class="number">2.</span> 如果当前运行的线程数已经达到核心线程数，则尝试将任务添加到工作队列中等待执行。</span><br><span class="line">        - 若工作队列已满，并且当前线程数小于最大线程数，则会创建新的非核心线程来处理任务。</span><br><span class="line">        - 如果线程数已经达到了最大线程数，并且工作队列也满了，根据预设的拒绝策略处理无法执行的任务。</span><br><span class="line">        - 线程复用机制：线程池中的线程在完成分配给它的任务后，并不会立即销毁，而是返回到线程池中等待下一次任务分配。这种方式减少了线程频繁创建和销毁带来的性能损耗，提高了应用的响应速度和吞吐量。</span><br><span class="line">    <span class="number">3.</span> 拒绝策略：当线程池无法接受新任务时（例如达到最大线程数和队列容量），可以通过设定不同的拒绝策略来处理这种情况，如抛出异常、直接丢弃任务、尝试由调用线程执行任务等。</span><br><span class="line">    <span class="number">4.</span> 管理与调度：通过统一管理和调度线程，线程池能够有效地控制并发度，避免因大量线程同时运行导致的系统资源耗尽问题。</span><br><span class="line"></span><br><span class="line">- 常用线程池</span><br><span class="line">    <span class="number">1.</span> FixedThreadPool（固定线程池）：固定线程数线程池，核心线程数和最大线程数相同，线程数不会超过核心线程数。</span><br><span class="line">        - 特点：核心线程数 = 最大线程数，使用无界队列（LinkedBlockingQueue）。</span><br><span class="line">        - 问题：任务堆积可能导致OOM。</span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">static</span> ExecutorService <span class="title function_">newFixedThreadPool</span><span class="params">(<span class="type">int</span> nThreads)</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">ThreadPoolExecutor</span>(nThreads, nThreads,</span><br><span class="line">                                        <span class="number">0L</span>, TimeUnit.MILLISECONDS,</span><br><span class="line">                                        <span class="keyword">new</span> <span class="title class_">LinkedBlockingQueue</span>&lt;Runnable&gt;());</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="number">2.</span> CachedThreadPool（缓存线程池）</span><br><span class="line">        - 特点：核心线程数=<span class="number">0</span>，最大线程数=Integer.MAX_VALUE，队列为SynchronousQueue（直接传递任务）。</span><br><span class="line">        - 适用场景：短时高频小任务（如HTTP请求）。</span><br><span class="line">        - 问题：线程数无上限，可能耗尽资源。</span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">static</span> ExecutorService <span class="title function_">newCachedThreadPool</span><span class="params">()</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">ThreadPoolExecutor</span>(<span class="number">0</span>, Integer.MAX_VALUE,</span><br><span class="line">                                        <span class="number">60L</span>, TimeUnit.SECONDS,</span><br><span class="line">                                        <span class="keyword">new</span> <span class="title class_">SynchronousQueue</span>&lt;Runnable&gt;());</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="number">3.</span> SingleThreadExecutor（单线程池）</span><br><span class="line">        - 特点：仅<span class="number">1</span>个核心线程，保证任务顺序执行，无界队列。</span><br><span class="line">        - 适用场景：需顺序执行任务的场景（如日志写入）。</span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">static</span> ExecutorService <span class="title function_">newSingleThreadExecutor</span><span class="params">()</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">FinalizableDelegatedExecutorService</span></span><br><span class="line">                (<span class="keyword">new</span> <span class="title class_">ThreadPoolExecutor</span>(<span class="number">1</span>, <span class="number">1</span>,</span><br><span class="line">                                        <span class="number">0L</span>, TimeUnit.MILLISECONDS,</span><br><span class="line">                                        <span class="keyword">new</span> <span class="title class_">LinkedBlockingQueue</span>&lt;Runnable&gt;()));</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="number">4.</span> ScheduledThreadPool（定时任务线程池）</span><br><span class="line">        - 特点：支持定时或周期性任务，使用DelayedWorkQueue。</span><br><span class="line">        <span class="type">ScheduledExecutorService</span> <span class="variable">executor</span> <span class="operator">=</span> Executors.newScheduledThreadPool(<span class="number">3</span>);</span><br><span class="line">        executor.scheduleAtFixedRate(task, initialDelay, period, TimeUnit.SECONDS);</span><br><span class="line">- 推荐实践：自定义线程池（避免使用Executors）</span><br><span class="line"><span class="type">ThreadPoolExecutor</span> <span class="variable">executor</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ThreadPoolExecutor</span>(</span><br><span class="line">    <span class="number">5</span>,                                     <span class="comment">// corePoolSize</span></span><br><span class="line">    <span class="number">10</span>,                                    <span class="comment">// maximumPoolSize</span></span><br><span class="line">    <span class="number">60</span>, TimeUnit.SECONDS,                  <span class="comment">// keepAliveTime</span></span><br><span class="line">    <span class="keyword">new</span> <span class="title class_">ArrayBlockingQueue</span>&lt;&gt;(<span class="number">100</span>),         <span class="comment">// 有界队列（避免OOM）</span></span><br><span class="line">    <span class="keyword">new</span> <span class="title class_">CustomThreadFactory</span>(<span class="string">&quot;my-pool&quot;</span>),    <span class="comment">// 自定义线程命名</span></span><br><span class="line">    <span class="keyword">new</span> <span class="title class_">ThreadPoolExecutor</span>.CallerRunsPolicy() <span class="comment">// 拒绝策略：由提交线程执行任务</span></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">💡 高频追问点</span><br><span class="line">线程池状态流转</span><br><span class="line"></span><br><span class="line"><span class="number">1.</span> RUNNING → SHUTDOWN（不再接受新任务）</span><br><span class="line"></span><br><span class="line"><span class="number">2.</span> RUNNING/SHUTDOWN → STOP（中断所有线程）</span><br><span class="line"></span><br><span class="line"><span class="number">3.</span> SHUTDOWN/STOP → TIDYING → TERMINATED</span><br><span class="line"></span><br><span class="line">拒绝策略类型</span><br><span class="line"></span><br><span class="line"><span class="number">1.</span> AbortPolicy（默认）：抛RejectedExecutionException。</span><br><span class="line"></span><br><span class="line"><span class="number">2.</span> CallerRunsPolicy：由提交任务的线程执行。</span><br><span class="line"></span><br><span class="line"><span class="number">3.</span> DiscardPolicy：静默丢弃。</span><br><span class="line"></span><br><span class="line"><span class="number">4.</span> DiscardOldestPolicy：丢弃队列最旧任务，重试提交。</span><br><span class="line"></span><br><span class="line">工作队列选择</span><br><span class="line"></span><br><span class="line"><span class="number">1.</span> LinkedBlockingQueue：无界队列（慎用）。</span><br><span class="line"></span><br><span class="line"><span class="number">2.</span> ArrayBlockingQueue：有界队列（需指定容量）。</span><br><span class="line"></span><br><span class="line"><span class="number">3.</span> SynchronousQueue：直接传递任务（无缓冲）。</span><br><span class="line"></span><br><span class="line"><span class="number">4.</span> PriorityBlockingQueue：优先级队列。</span><br><span class="line"></span><br><span class="line">🌟 总结回答</span><br><span class="line"><span class="number">1.</span> 执行过程：核心线程→队列→临时线程→拒绝策略。</span><br><span class="line"></span><br><span class="line"><span class="number">2.</span> 核心参数：核心线程数、最大线程数、存活时间、队列、拒绝策略是调优关键。</span><br><span class="line"></span><br><span class="line"><span class="number">3.</span> 线程池选择：推荐自定义线程池，避免使用Executors的预设线程池（如FixedThreadPool可能导致OOM）。</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="number">4.</span>JVM 的相关知识，OOM 如何定位，说几个虚拟机指令以及虚拟机栈可能会发生什么错误，四种引用类型</span><br><span class="line"></span><br><span class="line"><span class="number">5.</span>Java 并发，<span class="keyword">synchronized</span> 性能为什么提高了（锁升级过程），与 Java 的 lock 有什么区别以及使用场景</span><br><span class="line"></span><br><span class="line"><span class="number">6.</span>网络，输入 www.baidu.com 都会发生什么</span><br><span class="line"></span><br><span class="line">关键点总结：</span><br><span class="line">DNS解析：将域名解析为 IP 地址。</span><br><span class="line">TCP连接：三次握手建立连接。</span><br><span class="line">HTTP请求：浏览器发送请求，服务器响应。</span><br><span class="line">页面渲染：浏览器根据响应的 HTML、CSS、JS 渲染页面。</span><br><span class="line">连接关闭：四次挥手关闭连接。</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="number">7.</span>http 报文结构，头部都有哪些字段</span><br><span class="line">请求报文包括以下部分：</span><br><span class="line"></span><br><span class="line">起始行（Request Line）</span><br><span class="line">方法（GET、POST、PUT、DELETE等）</span><br><span class="line">请求的 URL</span><br><span class="line">HTTP版本（如 HTTP/<span class="number">1.1</span> 或 HTTP/<span class="number">2</span>）</span><br><span class="line">请求头部（Headers）</span><br><span class="line">请求正文（Body）（可选，通常在 POST 和 PUT 请求中包含）</span><br><span class="line"></span><br><span class="line">起始行（Response Line）</span><br><span class="line">HTTP版本（如 HTTP/<span class="number">1.1</span>）</span><br><span class="line">状态码（<span class="number">3</span>位数字，表示请求的结果，如<span class="number">200</span>表示成功，<span class="number">404</span>表示未找到等）</span><br><span class="line">状态说明（状态码对应的描述，如“OK”）</span><br><span class="line">响应头部（Headers）</span><br><span class="line">响应正文（Body）（包含响应的数据，如 HTML 页面、JSON 数据、图片等）</span><br><span class="line"></span><br><span class="line"><span class="number">8.</span>进程与线程，了解协程吗（大概说了下）</span><br><span class="line">进程（Process）</span><br><span class="line">定义：进程是操作系统分配资源的基本单位。它包含了程序代码、数据、栈和寄存器状态等资源，每个进程都有自己的地址空间。</span><br><span class="line"></span><br><span class="line">特点：</span><br><span class="line"></span><br><span class="line">每个进程在独立的内存空间中运行，彼此之间隔离。</span><br><span class="line">进程间的通信（IPC）通常需要操作系统提供的机制（如管道、共享内存、消息队列等），相对较慢。</span><br><span class="line">进程的创建和销毁需要较高的开销。</span><br><span class="line">应用场景：大多数应用程序通常都是以进程为单位启动的，操作系统的管理也是按进程进行的。</span><br><span class="line"></span><br><span class="line"><span class="number">2.</span> 线程（Thread）</span><br><span class="line">定义：线程是进程内的执行单元。一个进程可以有多个线程（也叫轻量级进程），它们共享同一地址空间和资源。</span><br><span class="line"></span><br><span class="line">特点：</span><br><span class="line"></span><br><span class="line">线程间共享进程的内存空间、文件描述符等资源，这使得线程间的通信比进程间通信更加高效（如共享内存、信号量、互斥锁等）。</span><br><span class="line">线程创建和销毁的开销比进程小，但由于资源共享，它们需要同步机制来避免竞争条件。</span><br><span class="line">线程能够在同一进程内并发执行，可以提高 CPU 的利用率。</span><br><span class="line">应用场景：通常用于需要高并发、低延迟的应用，尤其是那些需要频繁访问共享数据的场景，如 Web 服务器、数据库连接池等。</span><br><span class="line"><span class="number">3.</span> 协程（Coroutine）</span><br><span class="line">定义：协程是一种轻量级的线程，通常由用户管理，而不是操作系统。协程可以在单线程内并发执行，且能在执行过程中主动让出控制权。</span><br><span class="line"></span><br><span class="line">特点：</span><br><span class="line"></span><br><span class="line">协程比线程更轻量，不需要内核线程调度，因此上下文切换的开销非常低。</span><br><span class="line">协程是由程序控制的，通常在某个“阻塞”操作（如 I/O 操作）时，协程会主动让出控制权，允许其他协程执行。</span><br><span class="line">协程通常运行在单线程内，多个协程之间的切换是通过程序中的协作实现的，而非操作系统调度。</span><br><span class="line">应用场景：</span><br><span class="line"></span><br><span class="line">协程适合 I/O 密集型任务，特别是当任务需要等待网络响应或文件读取时，协程可以在等待期间执行其他任务（比如并发处理多个网络请求）。</span><br><span class="line">常用于异步编程框架中，如 Python 的 asyncio、Go 的 goroutine 和 JavaScript 的 async/await。</span><br><span class="line">优点：</span><br><span class="line"></span><br><span class="line">高效的上下文切换：协程的上下文切换开销极小，因为它们不需要操作系统介入，线程切换需要保存和恢复大量的状态。</span><br><span class="line">更少的资源消耗：每个协程的栈空间通常比线程小，可以轻松创建大量的协程而不耗费太多资源。</span><br><span class="line">简化的异步编程：协程可以通过 <span class="keyword">yield</span> 或 await 等机制写出看似同步的异步代码，使代码更加简洁易懂。</span><br><span class="line">缺点：</span><br><span class="line"></span><br><span class="line">协程无法充分利用多核 CPU，因为它们通常是单线程的，因此适合 I/O 密集型任务，而对于 CPU 密集型任务，多线程或多进程可能更合适。</span><br><span class="line"></span><br><span class="line"><span class="number">9.</span>死锁了解吗，说一下条件，如何解决</span><br><span class="line">    解决线程安全问题的常见方法包括使用 同步机制、并发数据结构、线程局部存储 等。</span><br><span class="line"></span><br><span class="line">    <span class="number">1.</span> 锁（Lock）机制</span><br><span class="line">    锁是解决线程安全问题最常用的机制，确保同一时刻只有一个线程可以访问共享资源。</span><br><span class="line"></span><br><span class="line">    互斥锁（Mutex）：</span><br><span class="line"></span><br><span class="line">    锁定一段代码或资源，防止其他线程同时访问。</span><br><span class="line">    缺点：锁的使用可能导致性能问题（比如线程阻塞、死锁等）。</span><br><span class="line">    Java 示例：</span><br><span class="line">    java</span><br><span class="line">    复制</span><br><span class="line">    编辑</span><br><span class="line">    <span class="keyword">synchronized</span> (lockObject) &#123;</span><br><span class="line">        <span class="comment">// 临界区代码</span></span><br><span class="line">    &#125;</span><br><span class="line">    读写锁（Read-Write Lock）：</span><br><span class="line"></span><br><span class="line">    允许多个线程同时读取共享资源，但在写操作时必须独占资源。</span><br><span class="line">    Java 示例：</span><br><span class="line">    java</span><br><span class="line">    复制</span><br><span class="line">    编辑</span><br><span class="line">    <span class="type">ReentrantReadWriteLock</span> <span class="variable">lock</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ReentrantReadWriteLock</span>();</span><br><span class="line">    <span class="type">Lock</span> <span class="variable">readLock</span> <span class="operator">=</span> lock.readLock();</span><br><span class="line">    <span class="type">Lock</span> <span class="variable">writeLock</span> <span class="operator">=</span> lock.writeLock();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 读操作</span></span><br><span class="line">    readLock.lock();</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="comment">// 执行读取操作</span></span><br><span class="line">    &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">        readLock.unlock();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 写操作</span></span><br><span class="line">    writeLock.lock();</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="comment">// 执行写操作</span></span><br><span class="line">    &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">        writeLock.unlock();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="number">2.</span> 原子操作（Atomic Operations）</span><br><span class="line">    使用原子操作可以确保某个操作在执行时不被中断，避免并发冲突。原子操作是由硬件或者操作系统保障的，能够在多线程环境下安全执行。</span><br><span class="line"></span><br><span class="line">    CAS（Compare And Swap）：一种常用的原子操作，通常用于实现无锁的数据结构。</span><br><span class="line"></span><br><span class="line">    Java 示例（AtomicInteger）：</span><br><span class="line"></span><br><span class="line">    java</span><br><span class="line">    复制</span><br><span class="line">    编辑</span><br><span class="line">    <span class="type">AtomicInteger</span> <span class="variable">count</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">AtomicInteger</span>(<span class="number">0</span>);</span><br><span class="line">    count.incrementAndGet(); <span class="comment">// 线程安全的递增操作</span></span><br><span class="line">    也可以使用 原子类 来处理一些简单的线程安全问题，如 AtomicInteger, AtomicLong, AtomicReference 等。</span><br><span class="line"></span><br><span class="line">    <span class="number">3.</span> 线程局部存储（Thread-local storage）</span><br><span class="line">    线程局部存储（TLS）用于存储每个线程独立的数据，使得每个线程都有自己的副本，不会与其他线程发生竞争。</span><br><span class="line"></span><br><span class="line">    Java 示例（ThreadLocal）：</span><br><span class="line">    java</span><br><span class="line">    复制</span><br><span class="line">    编辑</span><br><span class="line">    ThreadLocal&lt;Integer&gt; threadLocalValue = <span class="keyword">new</span> <span class="title class_">ThreadLocal</span>&lt;&gt;() &#123;</span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="keyword">protected</span> Integer <span class="title function_">initialValue</span><span class="params">()</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>; <span class="comment">// 初始值</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 每个线程访问自己独立的变量</span></span><br><span class="line">    threadLocalValue.set(<span class="number">100</span>);</span><br><span class="line">    System.out.println(threadLocalValue.get());</span><br><span class="line">    应用场景：适用于线程中独立的计算或状态保存，不需要与其他线程共享数据的场景。</span><br><span class="line"></span><br><span class="line">    <span class="number">4.</span> 并发容器（Concurrent Collections）</span><br><span class="line">    Java 提供了一些线程安全的集合类，它们内部已经实现了同步机制或其他优化方式，避免了你手动加锁的麻烦。</span><br><span class="line"></span><br><span class="line">    ConcurrentHashMap：线程安全的哈希表实现，采用分段锁机制，提高并发性能。</span><br><span class="line">    CopyOnWriteArrayList：写时复制的线程安全列表。</span><br><span class="line">    BlockingQueue：线程安全的阻塞队列，常用于生产者消费者模式。</span><br><span class="line">    Java 示例（ConcurrentHashMap）：</span><br><span class="line"></span><br><span class="line">    java</span><br><span class="line">    复制</span><br><span class="line">    编辑</span><br><span class="line">    ConcurrentHashMap&lt;String, Integer&gt; map = <span class="keyword">new</span> <span class="title class_">ConcurrentHashMap</span>&lt;&gt;();</span><br><span class="line">    map.put(<span class="string">&quot;key&quot;</span>, <span class="number">1</span>);</span><br><span class="line">    map.putIfAbsent(<span class="string">&quot;key&quot;</span>, <span class="number">2</span>); <span class="comment">// 保证线程安全的插入</span></span><br><span class="line">    <span class="number">5.</span> 乐观锁与悲观锁</span><br><span class="line">    悲观锁：线程认为资源会发生冲突，因此在访问时加锁，其他线程必须等待该线程释放锁才能访问资源。使用 锁 来实现。</span><br><span class="line">    乐观锁：线程认为资源冲突的概率较低，因此不加锁，而是在操作完成时验证资源是否已被修改。如果修改了，则重新操作；如果没有修改，则继续执行。常用的实现是通过 CAS（Compare and Swap） 或 版本号机制。</span><br><span class="line">    <span class="number">6.</span> 死锁（Deadlock）与避免</span><br><span class="line">    死锁 是指多个线程在持有对方需要的锁时，相互等待对方释放锁，导致程序无法继续执行。避免死锁的常见策略包括：</span><br><span class="line"></span><br><span class="line">    避免循环等待：确保线程请求锁的顺序一致。</span><br><span class="line">    使用定时锁：为锁操作设置超时，避免永久等待。</span><br><span class="line">    避免锁嵌套：尽量避免一个线程持有多个锁。</span><br><span class="line">    <span class="number">7.</span> 事务（Transactions）</span><br><span class="line">    在多线程环境下，特别是数据库操作中，使用事务来确保操作的原子性、一致性、隔离性和持久性（ACID原则）。即使出现并发访问，也能保证数据的一致性。</span><br><span class="line"></span><br><span class="line">    Java 示例（数据库事务）：</span><br><span class="line">    java</span><br><span class="line">    复制</span><br><span class="line">    编辑</span><br><span class="line">    <span class="type">Connection</span> <span class="variable">conn</span> <span class="operator">=</span> dataSource.getConnection();</span><br><span class="line">    conn.setAutoCommit(<span class="literal">false</span>); <span class="comment">// 开始事务</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="comment">// 执行多条数据库操作</span></span><br><span class="line">        conn.commit(); <span class="comment">// 提交事务</span></span><br><span class="line">    &#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">        conn.rollback(); <span class="comment">// 回滚事务</span></span><br><span class="line">    &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">        conn.close();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="number">8.</span> 线程池（Thread Pools）</span><br><span class="line">    使用线程池能够有效地管理线程的生命周期，避免线程的频繁创建与销毁。线程池会为任务分配合适数量的线程，线程之间共享资源，提高效率。</span><br><span class="line"></span><br><span class="line">    Java 示例（ExecutorService）：</span><br><span class="line">    java</span><br><span class="line">    复制</span><br><span class="line">    编辑</span><br><span class="line">    <span class="type">ExecutorService</span> <span class="variable">executorService</span> <span class="operator">=</span> Executors.newFixedThreadPool(<span class="number">4</span>);</span><br><span class="line">    executorService.submit(() -&gt; &#123;</span><br><span class="line">        <span class="comment">// 任务执行代码</span></span><br><span class="line">    &#125;);</span><br><span class="line">    executorService.shutdown();</span><br><span class="line">    <span class="number">9.</span> 其他常见方法</span><br><span class="line">    信号量（Semaphore）：用于控制对共享资源的访问数量，通常用于限流场景。</span><br><span class="line">    屏障（CyclicBarrier）：用来使多个线程相互等待，直到所有线程都达到某个点。</span><br><span class="line"></span><br><span class="line"><span class="number">10.</span>让写一下链表实现插入方法（顺序不在这里，忘了在哪了，突然想起来了），查询效率呢，怎么优化</span><br><span class="line"></span><br><span class="line"><span class="number">2.</span>没有自我介绍直接开始，先是网络，TCP 三次握手四次挥手，time_wait 和 close_wait 具体干什么，为什么要三次两次不行吗，有大量连接处于 time_wait 的原因，TCP 是长连接还是短连接</span><br><span class="line"></span><br><span class="line"><span class="number">3.</span>Https 了解吗，说一下整个过程（对称加密，非对称加密），与 http 的不同点</span><br><span class="line"></span><br><span class="line"><span class="number">4.</span>进程线程又问了，进程间通信方式（剩下的想不起来）</span><br><span class="line"></span><br><span class="line"><span class="number">5.</span>数据库部分知识，手写一个 SQL （子查询 感觉主要看 group by 和 having）</span><br><span class="line"></span><br><span class="line"><span class="number">6.</span>算法题，最长公共连续子串</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">字节跳动 后端面经</span><br><span class="line">技术面试为<span class="number">3</span>轮，其中有写面试官不了解Java技术栈所以可能部分问题上沟通没那么流利，但总的来说通用问题还是能聊起来的</span><br><span class="line"></span><br><span class="line">一面（持续时间约一小时）</span><br><span class="line"></span><br><span class="line">八股为主，由于面试官应该对Java有过经验故问一些Java问题</span><br><span class="line"></span><br><span class="line">如: 线程池的参数</span><br><span class="line"></span><br><span class="line">线程池运行的流程</span><br><span class="line"></span><br><span class="line">Java里面的线程状态</span><br><span class="line"></span><br><span class="line">HTTPS和HTTP区别</span><br><span class="line"></span><br><span class="line">Java里面hashmap的一些机制（扩容，哈希冲突等）</span><br><span class="line"></span><br><span class="line">notify 和 notifyAll 区别</span><br><span class="line"></span><br><span class="line">计算机网络相关知识</span><br><span class="line"></span><br><span class="line">操作系统相关知识</span><br><span class="line"></span><br><span class="line">算法两题（中等）</span><br><span class="line"></span><br><span class="line">二面（持续约<span class="number">1</span>小时）</span><br><span class="line"></span><br><span class="line">对一些操作系统的知识进行了提问</span><br><span class="line"></span><br><span class="line">对Linux知识进行了提问</span><br><span class="line"></span><br><span class="line">对git问了一些</span><br><span class="line"></span><br><span class="line">然后写算法题（中等为主）</span><br><span class="line"></span><br><span class="line">三面（持续一小时多一点点）</span><br><span class="line"></span><br><span class="line">简历里面业务进行提问</span><br><span class="line"></span><br><span class="line">简历里面的技术栈提问</span><br><span class="line"></span><br><span class="line">场景题</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line">为什么用set？为什么用zset？</span><br><span class="line">key是什么？随便取的名吗？</span><br><span class="line">member、score是什么？</span><br><span class="line">如何优化？怎么实现的？</span><br><span class="line">历史排行榜中的分表？什么时候需要分表？</span><br><span class="line">存储策略是？持久化到哪里？</span><br><span class="line">怎么动态建表？定时任务的实现？</span><br><span class="line">超卖问题怎么解决的？乐观锁？怎么实现？</span><br><span class="line">秒杀场景？分布式锁？Lua脚本+Redission？</span><br><span class="line"></span><br><span class="line">MySQL 执行一条SQL语句的过程？</span><br><span class="line">MySQL 索引存储？索引的失效场景？</span><br><span class="line">MySQL 如何建立索引？索引建太多的缺点？影响读还是写效率？</span><br><span class="line">MySQL 事务的隔离级别及原理？</span><br><span class="line">MySQL 三种日志？主从架构？主从复制原理？</span><br><span class="line">MySQL 的并发控制手段？</span><br><span class="line">MySQL 事务的四个特性及原理？</span><br><span class="line">MySQL 慢查询的排除与优化？</span><br><span class="line">MySQL 分库分表有哪些方法？后续需要添加一个查询条件怎么添加？</span><br><span class="line">MySQL 存储引擎？</span><br><span class="line">MySQL 聚簇索引、非聚簇索引？</span><br><span class="line">MySQL 可重复读的幻读问题？快照读与当前读？</span><br><span class="line">MySQL 事务的隔离级别及原理？</span><br><span class="line">MySQL 事务 MVCC 实现原理？</span><br><span class="line"></span><br><span class="line">Java 源码从编译到执行，发生了什么？</span><br><span class="line">HTTP 与 HTTPS 的区别？三次握手？</span><br><span class="line">HTTPS 连接的建立过程？SSL/TLS 握手？</span><br><span class="line">HTTPS 传输安全的吗？对称 or 非对称加密？</span><br><span class="line">Kafka 的各组件？原理介绍一下？</span><br><span class="line">Nginx 负载均衡有哪些策略？</span><br><span class="line">Redis 的 zset 底层结构？它为什么有序？</span><br><span class="line">对象作为HashMap的key，要重写什么方法？</span><br><span class="line">Java 异常处理机制？关键字？</span><br><span class="line"></span><br><span class="line">什么是 Redis？使用场景？</span><br><span class="line">Redis 常见的数据类型？底层结构？</span><br><span class="line">Redis 线程模型？常见的 IO 模型？多路复用的系统调用？</span><br><span class="line">如何判断图中是否有环？</span><br><span class="line">说说如何维护堆？大根堆和小跟堆的插入删除维护？</span><br><span class="line">红黑树的结构？进程的状态？进程和线程的区别？</span><br><span class="line">进程间通信的方式？共享内存？</span><br><span class="line">死锁的产生条件？预防措施？Java集合？</span><br><span class="line">hashmap的底层原理？hashmap非线程安全，<span class="number">1.8</span>改尾插法的原因？</span><br><span class="line">秒杀系统如何设计？MQ的使用？RocketMQ的各组件？</span><br><span class="line">分布式锁的实现方式？设计模式？单例模式的懒汉方式？</span><br><span class="line">AOP代理模式的实现？lua脚本怎么保证原子性？</span><br><span class="line">堆和栈有什么区别？为什么要有栈，不可以直接在堆上面分配内存吗？</span><br><span class="line"></span><br><span class="line">手撕：下一个排列</span><br><span class="line">手撕：复原 IP 地址</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">Java</span><br><span class="line">多线程有用过吗或者学过相关知识吗</span><br><span class="line">多线程的优点和缺点</span><br><span class="line">线程安全问题的核心原因是什么（从内存角度分析）</span><br><span class="line">线程安全相关的关键字或容器</span><br><span class="line"><span class="keyword">volatile</span>一定能保证线程安全吗</span><br><span class="line">有什么关键字能保证原子性</span><br><span class="line"><span class="keyword">synchronized</span>和<span class="keyword">volatile</span>的区别</span><br><span class="line">Java和Kotlin的区别，各自的优势</span><br><span class="line">by lazy的原理，使用Java要怎么实现相似的功能</span><br><span class="line">HashMap的实现原理</span><br><span class="line">场景：HashMap用一个A类为键去存储value，修改A的某个属性再用相同的key去get，结果一样吗</span><br><span class="line">怎么保证一样（重写hashCode、equals，与属性无关的生成规则）</span><br><span class="line"></span><br><span class="line">计网</span><br><span class="line">TCP和UDP的区别</span><br><span class="line">TCP通过哪些方式实现可靠性</span><br><span class="line">场景：下载速度通常是由慢到快，背后原理是什么</span><br><span class="line">HTTP和TCP、UDP的关系</span><br><span class="line">HTTP2<span class="number">.0</span>和HTTP3<span class="number">.0</span>的区别</span><br><span class="line"></span><br><span class="line">其他</span><br><span class="line">内存泄漏原理</span><br><span class="line">怎么排查以及怎么解决</span><br><span class="line">LeakCanary转储堆记录了什么</span><br><span class="line">它是怎么检测内存泄漏的，原理是什么</span><br><span class="line">所有内存泄漏问题弱引用都能解决吗</span><br><span class="line">Android上内存泄漏的典型场景（答了单例，非静态内部类，Handler，线程，资源未关闭）</span><br><span class="line">双token的刷新流程，在服务端校验流程</span><br><span class="line">token是怎么生成的，保存在哪</span><br><span class="line">session和token的区别</span><br><span class="line">有关注什么新技术，各个方向都行</span><br><span class="line">这些技术了解到什么程度，用过吗</span><br><span class="line"></span><br><span class="line">算法</span><br><span class="line">场景：有一个大文件，每一行不超过100B，总大小超过100MB，设备只有10MB内存，怎么找到top100高频词，说出详细流程</span><br><span class="line">二叉树的非递归后序遍历</span><br><span class="line"></span><br><span class="line">作者：一叶知秋霞</span><br><span class="line">链接：https:<span class="comment">//www.nowcoder.com/feed/main/detail/ee15d1b2fb2f4d459b0938dabd7e1922?sourceSSR=search</span></span><br><span class="line">来源：牛客网</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line">一面</span><br><span class="line">拷打项目</span><br><span class="line"></span><br><span class="line">sentinel默认限流算法？其他常见限流算法？为什么用滑动窗口？</span><br><span class="line"></span><br><span class="line">ab实验观察什么数据？什么情况下用ab？</span><br><span class="line"></span><br><span class="line">并发问题如何解决？分布式锁如何实现？redis分布式锁有什么问题？watch dog实现原理？</span><br><span class="line"></span><br><span class="line">tcp拥塞算法？</span><br><span class="line"></span><br><span class="line">mysql中mvcc如何实现？悲观锁乐观锁如何实现？用sql如何锁住一条数据？</span><br><span class="line"></span><br><span class="line">淘天使用什么隔离级别？会使用读已提交，与可重复读级别的优缺点在哪？读已提交如何避免幻读？</span><br><span class="line"></span><br><span class="line">算法：接雨水，如何优化到一次遍历</span><br><span class="line"></span><br><span class="line">二面</span><br><span class="line">拷打项目</span><br><span class="line"></span><br><span class="line">平时看JDK源码吗？</span><br><span class="line"></span><br><span class="line"><span class="keyword">volatile</span>修饰词？有什么用？多线程计数可以用吗？</span><br><span class="line"></span><br><span class="line">sentinel的限流算法？</span><br><span class="line"></span><br><span class="line">看什么技术书籍？</span><br><span class="line"></span><br><span class="line">在淘天最大的收获？</span><br><span class="line"></span><br><span class="line">了解go吗？</span><br><span class="line"></span><br><span class="line">算法：最大回文字符串</span><br><span class="line"></span><br><span class="line">三面</span><br><span class="line">主要在拷打项目</span><br><span class="line"></span><br><span class="line">算法：xy坐标系给n个点，求点连成的线上最大的点数量</span><br><span class="line"></span><br><span class="line">智力题：两个盘子有<span class="number">7</span>个和<span class="number">9</span>个苹果，每次只能拿一个盘子中的n个苹果，n&gt;<span class="number">0</span>，谁先拿完盘子里的苹果谁输，你先开始拿，请问你是必赢还是必输还是都有可能，<span class="number">15</span>分钟内给三次试验的机会</span><br><span class="line"></span><br><span class="line">四面</span><br><span class="line">拷打项目</span><br><span class="line"></span><br><span class="line">多线程中的happens-before原则？</span><br><span class="line"></span><br><span class="line">介绍一下java的NIO？</span><br><span class="line"></span><br><span class="line">介绍一下epoll？</span><br><span class="line"></span><br><span class="line">epoll效率高的top1问题？</span><br><span class="line"></span><br><span class="line">红黑树达到什么程度的平衡？</span><br><span class="line"></span><br><span class="line">innodb的聚簇索引和非聚簇索引？</span><br><span class="line"></span><br><span class="line">事务ACID？一致性再解释一下？</span><br><span class="line"></span><br><span class="line">redo log数据不一致问题？</span><br><span class="line"></span><br><span class="line">为什么单表数据量过大会查找效率变慢？为什么磁盘查找会变高？</span><br><span class="line"></span><br><span class="line">算法题：移动零</span><br><span class="line"></span><br><span class="line">作者：leo77c_顺利毕业版</span><br><span class="line">链接：https:<span class="comment">//www.nowcoder.com/discuss/669500083951443968?sourceSSR=search</span></span><br><span class="line">来源：牛客网</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">为什么选择开发岗：面试官对我有很多算法相关经历但报名了开发岗感到好奇，问了我的想法。</span><br><span class="line">MySQL事务：包括隔离级别、索引类型、数据结构，分析了B+树和B树。</span><br><span class="line">Redis数据持久化：讲了两个方法。</span><br><span class="line">计算机网络：问我有没有学过计网，我回答没有系统学过，但在开发经历中了解一些，随后问了cookie、session和JWT。</span><br><span class="line">常用的Linux命令：两个业务排查案例，第一个是端口被占用时，第二个是负载高了，查看当前计算机内存使用情况。</span><br><span class="line">Java垃圾回收算法：以及JVM内存结构。</span><br><span class="line">Coding部分：</span><br><span class="line"></span><br><span class="line">二叉树最大宽度：需要用层序遍历并去掉边上的<span class="literal">null</span>值。由于我没写过层序遍历，面试官没有为难我，直接跳过了。</span><br><span class="line">反转链表：很快解决了，感觉是因为第一题没写出来所以降低了难度。</span><br><span class="line">最长无重复子字符串：也很快解决了。</span><br><span class="line">在反问环节，我问了组里的具体工作内容、对实习生的期待以及开发岗看重哪些方面。</span><br><span class="line"></span><br><span class="line">作者：此世之巅</span><br><span class="line">链接：https:<span class="comment">//www.nowcoder.com/discuss/659490551128997888?sourceSSR=search</span></span><br><span class="line">来源：牛客网</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line">一面(1h)：</span><br><span class="line">上来先问之前在字节的算法岗的工作内容，还有为什么要从算法转到后端</span><br><span class="line">然后面试官很好，直接就问自己最擅长什么方面，我说我比较熟悉mysql，redis等，就直接开始问这两块的问题</span><br><span class="line">mysql:</span><br><span class="line">oracle用过吗?(没用过，不知道)</span><br><span class="line">索引有哪些</span><br><span class="line">覆盖索引是什么</span><br><span class="line">索引优化方式</span><br><span class="line">什么是回表查询</span><br><span class="line">怎么样使用sql存一个大文件(这个没答上来)</span><br><span class="line">redis:</span><br><span class="line">redis的常用数据类型有哪些</span><br><span class="line">redis的缓存穿透是什么，怎么解决</span><br><span class="line">为什么redis很快(我回答主要是单线程，线程切换开销小，还有在内存中操作很快)</span><br><span class="line">怎么在redis的<span class="number">10</span>亿个数据中查找10w个key前缀部分相同的数据(不会)</span><br><span class="line"></span><br><span class="line">算法题: 最长连续序列(用HashSet直接ac了)</span><br><span class="line">面试官看我做太快了，又给了一道新题目让我先看看，然后说出思路: 判断是否是完全二叉树(完全没思路，面试官讲了思路后说实现比较困难，只是单纯当扩展考察一下，对第一题ac了比较认可)</span><br><span class="line"></span><br><span class="line">反问: 不给反问，说要去面下一个了，没时间</span><br><span class="line"></span><br><span class="line">一面是上周四，这周二通知一面通过，约了周四二面</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">一一一分割线一一一</span><br><span class="line"></span><br><span class="line">二面(75min，折磨)</span><br><span class="line"></span><br><span class="line">上来先问之前在字节算法岗干了什么，说的比较笼统，面试官不是很满意</span><br><span class="line">然后问java基础:</span><br><span class="line">java的线程创建方式有哪些，我用操作系统的知识点回答，面试官问我java的创建方式，回答了runnable，block，wait，time wait，terminated等，面试官追问wait和block的区别是什么，还有wait和time wait的区别(都答的七七八八)</span><br><span class="line"></span><br><span class="line">计网：</span><br><span class="line">tcp是怎么保证数据传输的可靠性的</span><br><span class="line">tcp是怎么解决包乱序</span><br><span class="line">tcp是怎么解决包重复的</span><br><span class="line"></span><br><span class="line">看了一个java代码题:判断Arraylist(string).getclass==ArrayList(Int).getclass的输出，我一开始答<span class="literal">false</span>，后来想了一下应该是<span class="literal">true</span>，因为java有泛型擦除</span><br><span class="line">面试官追问java用泛型的好处是什么，泛型擦除的原理</span><br><span class="line"></span><br><span class="line">算法题：lc<span class="number">.149</span> hard 做出来了，但可能不是最优解</span><br><span class="line">智力题，男生和女生玩游戏，双方胜率是都是<span class="number">50</span>％，男赢<span class="number">3</span>盘才算赢，女赢<span class="number">2</span>盘就赢，请问男女赢的概率各自是多少?</span><br><span class="line">我算出来是男是<span class="number">1</span>/<span class="number">3</span>，女是<span class="number">2</span>/<span class="number">3</span>，但是面试官说不对(很奇怪，有大佬可以解答一下吗)</span><br><span class="line"></span><br><span class="line">反问: 工作地点，主要的业务等</span><br><span class="line"></span><br><span class="line">第二天下午通知二面通过，约了下周二的hr面</span><br><span class="line"></span><br><span class="line">一一一分割线一一一</span><br><span class="line"><span class="number">9.3</span> hr面(35min)</span><br><span class="line">主要聊的是后续的打算，转正的意愿，还有实习时长。还有包括之前工作的贡献还有不足的点，性格等，就是正常的hr面。</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">作者：小小爽</span><br><span class="line">链接：https:<span class="comment">//www.nowcoder.com/discuss/659437095735291904?sourceSSR=search</span></span><br><span class="line">来源：牛客网</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">2</span>、你可以讲一下你觉得有挑战的一个项目；为什么你们那边网络传输需要2s？（我满头问号啊？？？？？？？？？）</span><br><span class="line"></span><br><span class="line"><span class="number">3</span>、为什么要进入MQ这个组件？当时是如何选型的？为什么不考虑别的MQ？RabbitMQ这么快，你了解他的底层实现原理吗？</span><br><span class="line"></span><br><span class="line"><span class="number">4</span>、你聊一聊arrayList，扩容机制是怎么样子的？（不触发扩容的时候也会进行拷贝吗？）</span><br><span class="line"></span><br><span class="line"><span class="number">5</span>、谈谈你理解的堆内存和栈内存，说说他们之间的区别；</span><br><span class="line"></span><br><span class="line"><span class="number">6</span>、栈溢出你如何通过写代码去得知，当前发生占内存溢出的这个阈值，需要获得具体的数值；</span><br><span class="line"></span><br><span class="line"><span class="number">7</span>、聊一聊四次挥手的过程；是否可以变为三次？close_wait具体在那个阶段（回答错了，脑子抽了，听错了）？</span><br><span class="line"></span><br><span class="line"><span class="number">8</span>、redis的持久化机制，aof如何进行优化？；</span><br><span class="line"></span><br><span class="line"><span class="number">9</span>、使用redis会遇到一些热点Key的问题，如何进行解决？</span><br><span class="line"></span><br><span class="line"><span class="number">10</span>、如果redis的这个key没有过期，但是并不能抗住当前的并发量，你如何去做?</span><br><span class="line"></span><br><span class="line"><span class="number">11</span>、Linux找一个现成的PID如何找？在linux里面有两个进程，一个进行在修改这个文件，另外一个去删除这个文件，会发生什么？</span><br><span class="line"></span><br><span class="line"><span class="number">12</span>、手撕环节：leetcode <span class="number">64.</span> 最小路径和</span><br><span class="line"></span><br><span class="line">作者：北雷村卖炒饭</span><br><span class="line">链接：https:<span class="comment">//www.nowcoder.com/feed/main/detail/4c1feff23aeb4e9ab17e0201bc48976d?sourceSSR=search</span></span><br><span class="line">来源：牛客网</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span> 面试官自我介绍</span><br><span class="line"><span class="number">2.</span> 自我介绍</span><br><span class="line"><span class="number">3.</span> 队列底层的数据结构是什么，为什么使用数组，相对于链表的优点</span><br><span class="line"><span class="number">4.</span> 数组和链表底层的内存结构是怎样的，连续存储的空间有啥优势</span><br><span class="line"><span class="number">5.</span> （源IP、目的IP、源端口、目的端口、TTL、发送窗口、接收窗口、SEQ NUM、ACK NUM）这里哪些是TCP协议的头部携带的字段</span><br><span class="line"><span class="number">6.</span> 说一下TCP的拥塞控制</span><br><span class="line"><span class="number">7.</span> 现在比如说你的WiFi信号弱，此时拥塞控制会发生什么，这合理吗</span><br><span class="line"><span class="number">8.</span> 如果你的舍友在下载东西，速度很快，但你的网络很卡，这和你舍友有关系吗</span><br><span class="line"><span class="number">9.</span> 现在要去往内存中某个地址写入一些东西，会发生什么（缺页中断）</span><br><span class="line"><span class="number">10.</span> 现在一个进程在写入一个文件，比如log，如果现在直接rmrf会发生什么，文件会直接被删掉吗？</span><br><span class="line"><span class="number">11.</span> 说一下文件系统的inode有什么信息</span><br><span class="line"><span class="number">12.</span> im的群聊消息发送是怎么设计的</span><br><span class="line"><span class="number">13.</span> 如何排查mysql的慢查询</span><br><span class="line"><span class="number">14.</span> 算法题：判断无向连通图是否为二分图</span><br><span class="line"><span class="number">15.</span> 反问环节</span><br><span class="line"></span><br><span class="line">总结：面试官全程笑着面试，很和善，后面说看了过往面评，说对技术掌握程度挺好，这次就不问项目和实习了，直接开始<span class="number">408</span>场景题拷打</span><br><span class="line"></span><br><span class="line"><span class="number">8.28</span>更新:约二面</span><br><span class="line"></span><br><span class="line"><span class="number">9.3</span>更新:二面面经</span><br><span class="line">时长1h10min</span><br><span class="line"><span class="number">1.</span> 开局面试官先叠甲(在敲键盘是在记录面试情况，不会在面试过程中做工作上的事)好评</span><br><span class="line"><span class="number">2.</span> 面试官自我介绍</span><br><span class="line"><span class="number">3.</span> 自我介绍</span><br><span class="line"><span class="number">4.</span> 看你实习过程中做过mysql慢查询优化，说一下怎么做的，EXPLAIN会显示哪些东西</span><br><span class="line"><span class="number">5.</span> 现在有一个场景，我们要存储一个token之类的东西，它的长度比较长 ，这时候适合建立哪个索引</span><br><span class="line"><span class="number">6.</span> mysql中的事务是怎么实现的呢(开始吟唱事务隔离级别，MVCC，幻读脏读不可重复读问题)</span><br><span class="line"><span class="number">7.</span> 看你比较常用java，能说一下java中线程安全常用的东西吗</span><br><span class="line"><span class="number">8.</span> 说一下ThreadLocal是什么，他实现线程隔离的原理是怎样的，他会出现什么问题(内存泄露)</span><br><span class="line"><span class="number">9.</span> 说一下java的几种引用(软引用，强引用，虚引用、弱引用)</span><br><span class="line"><span class="number">10.</span> 手写题：手写一个java的可重入锁(简单写了一下大概的lock、unlock)</span><br><span class="line"><span class="number">11.</span> 代码里的state为什么要用原子包来加减呢？</span><br><span class="line"><span class="number">12.</span> 现在有个场景，比如说pdd助力，你砍我我砍你，我们要设计俩接口和数据库表，接口一可以查找我们之间是否存在砍or被砍的关系，接口二可以查找我砍了谁or谁砍了我，如何合理设计数据库表呢</span><br><span class="line"><span class="number">13.</span> 反问环节</span><br><span class="line"><span class="number">14.</span> 假如你最后拿到了offer，你后续的安排是怎样的呢(提前实习)</span><br><span class="line">总结：面试官提问深度不错，很有活力而且很尊重候选人，反问也说了很多东西，学到很多</span><br><span class="line"></span><br><span class="line">作者：Noiru</span><br><span class="line">链接：https:<span class="comment">//www.nowcoder.com/feed/main/detail/452f07fa7fe7451aa1448cf9c1202117?sourceSSR=search</span></span><br><span class="line">来源：牛客网</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>、简历中的项目介绍总体功能</span><br><span class="line"><span class="number">2.</span>（<span class="number">1</span>）如果用户提交订单的时候，连续点了<span class="number">2</span>次按钮怎么办？</span><br><span class="line">回答redis校验token+lua防止重复提交</span><br><span class="line">（<span class="number">2</span>）为什么用lua脚本？</span><br><span class="line">（<span class="number">3</span>）怎么设计的key？</span><br><span class="line">用生成的唯一token作为key</span><br><span class="line"><span class="number">3.</span>(<span class="number">1</span>)用redis缓存店铺营业状态，key和value怎么设计的？</span><br><span class="line">key是SHOP_STATUS</span><br><span class="line">(<span class="number">2</span>)spring cache怎么保持redis和mysql一致性</span><br><span class="line"><span class="number">4.</span>（<span class="number">1</span>）保持缓存和mysql一致性的方式还有什么？</span><br><span class="line">答了项目里用过的，比如redis分布式锁，乐观锁cas</span><br><span class="line">（<span class="number">2</span>）刚刚提到的保持缓存和mysql一致性的方式都属于cache aside，还有别的模式嘛？</span><br><span class="line">面试官口音南方再加上线上音质问题，没有听清楚问题，再加上不知道cache aside的中英文，没答上来。</span><br><span class="line">答案：缓存模式（Cache Aside、Read Through、Write Through、Write Behind）</span><br><span class="line"><span class="number">5.</span>（<span class="number">1</span>）工厂模式和策略模式的定义？项目里具体用法？</span><br><span class="line">（<span class="number">2</span>）还有什么常用的设计模式？</span><br><span class="line">（<span class="number">3</span>）单例模式用过吗？说说</span><br><span class="line"><span class="number">6</span>(<span class="number">1</span>)tcp的三次握手过程</span><br><span class="line">(<span class="number">2</span>)为什么要<span class="number">3</span>次握手</span><br><span class="line"><span class="number">7</span>(<span class="number">1</span>)http请求有哪些</span><br><span class="line">(<span class="number">2</span>)head请求？</span><br><span class="line">HEAD请求只返回响应头信息，不返回实际的响应主体，因此数据量比GET请求要小。</span><br><span class="line">(<span class="number">3</span>)http和https的区别？</span><br><span class="line">HTTP：是一个不安全的协议，它不加密传输的数据，这意味着数据在传输过程中可能被截获或篡改。默认<span class="number">80</span>端口。由于不涉及加密解密过程，通常性能稍好。HTTPS：在HTTP的基础上通过SSL/TLS（Secure Socket Layer/Transport Layer Security）协议进行加密，确保了数据传输的安全性和完整性。默认使用<span class="number">443</span>端口。由于需要进行加密和解密，可能会对性能产生一定影响，但这种影响通常可以忽略不计，特别是在现代的硬件和优化算法下。</span><br><span class="line"><span class="number">8.</span>介绍session和cookie</span><br><span class="line"><span class="number">9.</span>（<span class="number">1</span>）介绍mysql的索引</span><br><span class="line">（<span class="number">2</span>）项目中用到的</span><br><span class="line">（<span class="number">3</span>）为什么用b+树</span><br><span class="line"><span class="number">10.</span>假如有一个联合索引失效了，如何排查？没答上来</span><br><span class="line">联合索引又叫复合索引。两个或更多个列上的索引被称作复合索引。</span><br><span class="line"><span class="number">11.</span>手撕一道hard，没写上来，思考了<span class="number">10</span>分钟问能不能换题。leetcode902.最大为 N 的数字组合</span><br><span class="line"><span class="number">12.</span>换题，岛屿数量，dfs写出来了</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">用户态内核态区别；进程线程区别和通信；进程本身的状态和转化；死锁的概念和产生条件；实验过程中有没有遇到死锁的情况，怎么解决的；</span><br><span class="line">TCP和UDP的区别还有使用场景；http和https的区别；数据加密的过程；</span><br><span class="line">用了哪些数据库，MySQL。怎么查看SQL执行的计划；数据库接受到一个SQL请求是怎么执行的；索引建立的原则；索引的匹配的规则（这里没太能回答的上来）；索引的底层结构B+树，优点，跟B树的区别；</span><br><span class="line">事务特性ACID表示的含义；隔离的级别；</span><br><span class="line">并发哈希(concurrent hashmap)的实现？（这里不太懂底层的的实现，我说我之前用过细粒度的锁）；红黑树二叉树的区别，时间复杂度等（这里完全忘记红黑树是什么原理了）；</span><br><span class="line">平常在学习过程中最感兴趣的新技术是什么？</span><br><span class="line">考虑下一步的学习计划和成果；</span><br><span class="line">做项目的过程中多人协作下的承担的角色和协调；</span><br><span class="line">项目哪些地方可以做的更好</span><br><span class="line">未来<span class="number">3</span>-<span class="number">5</span>年的职业规划</span><br><span class="line">算法题：leetcode200 岛屿数量(https:<span class="comment">//leetcode.cn/problems/number-of-islands/description/?envType=study-plan-v2&amp;envId=top-100-liked)</span></span><br><span class="line"></span><br><span class="line">Linux的内存管理是怎么做的</span><br><span class="line">事务的实现方式和隔离机制的作用</span><br><span class="line">准备写代码的时候飞书坏掉了，<span class="number">8</span>号面试就是直接写代码</span><br><span class="line">让本地IDE写同时共享屏幕，我已经很久没在本地IDE写过了，只好连实验室服务器上写；问了<span class="number">2</span>个算法题；本地IDE有代码提示工具不知道我禁止了还能用，懂那种写一行代码然后跳了很多出来的尴尬吗！！！我跟面试官说这个提示有些时候也是错的，需要自己判断正不正确，先聊了思路然后再开始写的代码</span><br><span class="line">输出一个数组中的所有子集**********(https:<span class="comment">//leetcode.cn/problems/subsets/description/?envType=study-plan-v2&amp;envId=top-100-liked)；写完之后问了我时间复杂度（这里也是不知道咋算，瞎说了n!），然后后面又掰扯了一下是2^n；又问我是用递归写的，有没有非递归的解法，这个没答上来</span></span><br><span class="line">螺旋矩阵leetcode54（https:<span class="comment">//leetcode.cn/problems/spiral-matrix/description/?envType=study-plan-v2&amp;envId=top-100-liked），要求使用常数级别的空间复杂度。</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">4</span>、如何用两个队列去模拟栈（一个队列就可以模拟，但复杂度比较大，没想到什么优化方案）</span><br><span class="line"><span class="number">5</span>、数据流的中位数（lc295，经典对顶堆实现）</span><br><span class="line"><span class="number">6</span>、自己实现一个堆（还好数据结构学过，磕磕绊绊写了出来）</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br></pre></td><td class="code"><pre><span class="line">字节 <span class="number">1</span> 面</span><br><span class="line">自我介绍，项目经历，项目上的优化项以及原因 <span class="number">1.</span>ThreadLocal2.<span class="keyword">volatile</span> 的作用和原理 <span class="number">3.</span>J.U.C 中的锁 <span class="number">4.</span>atomic 包里的一些问题 <span class="number">5.</span>HashMap 的扩容 <span class="number">6.</span>Semaphore 信号量用来做什么？<span class="number">7.</span>Java 内存模型 <span class="number">8.</span>Java 内存空间是怎么分配的？<span class="number">9.</span>Full GC 触发条件、类加载机制、新生代和老年代可以转换吗？<span class="number">10.</span>这些内存里面的垃圾怎么回收？<span class="number">11.</span>怎么判断是垃圾？GCRoot 可以为哪些？<span class="number">12.</span>G1 收集器 <span class="number">13.</span>BIO、NIO、AIO 的对比 <span class="number">14.</span>AQS 是什么 <span class="number">15.</span>JUC 是什么 <span class="number">16.</span>实现线程安全的方法http:<span class="comment">//17.IO与 NIO 的区别 18.解释 NIO 是什么</span></span><br><span class="line"></span><br><span class="line">字节 <span class="number">2</span> 面</span><br><span class="line"><span class="number">1.</span>自我介绍，项目经历，项目上的优化项以及优化的原因 <span class="number">2.</span>Class.forName()怎么执行的？<span class="number">3.</span>守护线程是什么？守护线程是怎么退出的？<span class="number">4.</span>Stack 与 ArrayList 的区别 <span class="number">5.</span>HashMap 的 rehash 过程 <span class="number">6.</span>hashcode 和 equals 的区别 <span class="number">7.</span>equals 和==的区别？我要比较内容呢？8Java 代码编译过程 <span class="number">9.</span>如何设计 hash 函数 <span class="number">10.</span>常用的线程池 <span class="number">11.</span>分段锁</span><br><span class="line"></span><br><span class="line">字节跳动面试考点</span><br><span class="line">Java 知识点汇总</span><br><span class="line"></span><br><span class="line">数据类型</span><br><span class="line"></span><br><span class="line">String</span><br><span class="line"></span><br><span class="line">运算</span><br><span class="line"></span><br><span class="line">关键字</span><br><span class="line"></span><br><span class="line">Object 通用方法</span><br><span class="line"></span><br><span class="line">继承</span><br><span class="line"></span><br><span class="line">反射</span><br><span class="line"></span><br><span class="line">异常</span><br><span class="line"></span><br><span class="line">泛型</span><br><span class="line"></span><br><span class="line">注解</span><br><span class="line"></span><br><span class="line">特性</span><br><span class="line"></span><br><span class="line">容器中的设计模式</span><br><span class="line"></span><br><span class="line">源码分析</span><br><span class="line"></span><br><span class="line">Vector</span><br><span class="line"></span><br><span class="line">CopyOnWriteArrayList</span><br><span class="line"></span><br><span class="line">LinkedLis</span><br><span class="line"></span><br><span class="line">HashMap</span><br><span class="line"></span><br><span class="line">ConcurrentHashMap</span><br><span class="line"></span><br><span class="line">LinkedHashMap</span><br><span class="line"></span><br><span class="line"><span class="keyword">synchronized</span> 关键字</span><br><span class="line"></span><br><span class="line"><span class="keyword">volatile</span> 关键字</span><br><span class="line"></span><br><span class="line">ThreadLocal</span><br><span class="line"></span><br><span class="line">线程状态转换</span><br><span class="line"></span><br><span class="line">使用线程</span><br><span class="line"></span><br><span class="line">基础线程机制</span><br><span class="line"></span><br><span class="line">中断</span><br><span class="line"></span><br><span class="line">互斥同步</span><br><span class="line"></span><br><span class="line">J.U.C - AQS</span><br><span class="line"></span><br><span class="line">线程不安全示例</span><br><span class="line"></span><br><span class="line">内存模型</span><br><span class="line"></span><br><span class="line">线程安全</span><br><span class="line"></span><br><span class="line">锁优化</span><br><span class="line"></span><br><span class="line">JVM</span><br><span class="line"><span class="number">1.</span>运行时数据区域 <span class="number">2.</span>垃圾收集算法 <span class="number">3.</span>类加载过程：<span class="number">4.</span>引用类型 <span class="number">5.</span>垃圾收集算法 <span class="number">6.</span>垃圾收集器 <span class="number">7.</span>内存分配与回收 <span class="number">8.</span>内存分配策略</span><br><span class="line"></span><br><span class="line">计算机网络</span><br><span class="line"><span class="number">1.</span>简述 TCP 的三次握手、四次挥手，为什么要三次握手？为什么 client 会进入 TIME_WAIT？<span class="number">1.1</span> 为什么要进行三次握手？<span class="number">1.2</span> 为什么会有 TIME_WAIT？<span class="number">2.</span>TCP 的拥塞控制 <span class="number">3.</span>浏览器输入 url 请求服务器的过程，分析其中哪些部分用到缓存。<span class="number">4.</span>ARP（地址解析协议）<span class="number">5.</span>HTTP 的流量控制，具体的控制算法 <span class="number">6.</span>计算机网络体系结构 <span class="number">7.</span>路由选择协议 <span class="number">8.</span>UDP 和 TCP 比较</span><br><span class="line"></span><br><span class="line">HTTP</span><br><span class="line"><span class="number">1.</span>HTTP 的过程 <span class="number">2.</span>HTTPS 怎么建立请求 <span class="number">3.</span>GET 和 POST 比较</span><br><span class="line"></span><br><span class="line">MySQL</span><br><span class="line"><span class="number">1.</span>mysql 的索引，最左匹配原则 <span class="number">2.</span>mysql 的主从复制 <span class="number">3.</span>mysql 的聚集索引、非聚集索引 <span class="number">4.</span>mysql 联合索引，要注意什么？<span class="number">5.</span>为什么数据库要使用 B+树来实现索引？<span class="number">6.</span>MySQL 索引 <span class="number">7.</span>InnoDB 和 MyISAM 比较 <span class="number">8.</span>切分 <span class="number">9.</span>MySQL 数据库是怎么插入的？<span class="number">10.</span>事务怎么回滚？里面有什么日志？<span class="number">11.</span>一百万条数据记录，如何分页显示最后一条？<span class="number">12.</span>数据库事务隔离级别，可重复度和可串行化实现的原理</span><br><span class="line"></span><br><span class="line">数据库</span><br><span class="line"><span class="number">1.</span>数据库并发一致性问题 <span class="number">2.</span>封锁 <span class="number">3.</span>多版本并发控制 <span class="number">4.</span>异常和数据库范式 <span class="number">5.</span>连接</span><br><span class="line"></span><br><span class="line">数据结构</span><br><span class="line"><span class="number">1.</span>B+树和 B 树的区别 <span class="number">2.</span>红黑树 <span class="number">3.</span>红黑树和平衡二叉树的区别</span><br><span class="line"></span><br><span class="line">框架</span><br><span class="line"><span class="number">1.</span>Mybatis 动态代理 <span class="number">2.</span>Spring IOC 是什么？怎么实现的？<span class="number">3.</span>Spring IOC 里面的反射机制怎么实现的？</span><br><span class="line"></span><br><span class="line">Redis</span><br><span class="line"><span class="number">1.</span>redis 分片，客户端请求怎么处理？<span class="number">2.</span>redis 的 zset 底层实现 <span class="number">3.</span>redis 和 mysql 的区别 <span class="number">4.</span>redis 加锁 <span class="number">5.</span>redis 的淘汰策略 <span class="number">6.</span>redis 无法被命中怎么办？会出现什么问题？<span class="number">7.</span>Redis 和 MySQL 复制和分片 <span class="number">8.</span>Redis 是什么？Sorted List 是什么？skiplist 是什么？怎么实现的？怎么插入一个值？怎么进行查询？和其他数据结构进行对比？<span class="number">9.</span>Redis 的 hash 和 Java 的 map 的区别</span><br><span class="line"></span><br><span class="line"><span class="number">8</span> 个核心要点，轻松应对字节跳动面试</span><br><span class="line">投递简历前 <span class="number">1</span>、简历深度优化，HR 每天翻阅上千份简历，平均 <span class="number">3</span>-<span class="number">10</span> 秒看一篇简历，怎么让自己的简历突出？合理的排版可以大幅增加成功率。除了排版，还要用关键词引导 Hr 看到你的优势和强项，例如“负责”、“操盘”、“数据”等等…</span><br><span class="line"></span><br><span class="line"><span class="number">2</span>、自我介绍话术，说简单点，就是 <span class="number">200</span>-<span class="number">300</span> 字的小作文。当公司 hr 给你打电话时，怎么在两分钟内快速介绍自己并吸引 hr？私信问我</span><br><span class="line"></span><br><span class="line">简历投递中 <span class="number">3</span>、梳理投递岗位的工作内容，你真的知道你投的岗位是干啥事情吗？我辅导的 <span class="number">80</span>%求职者对岗位工作是没有概念的。建议你去脉脉、领英、赤兔等职场 app，去私信该公司的从业者，询问目前遇到的问题或项目方向，这样你就能在面试中过程中“不经意”的透露自己的想法和强项，让负责人两眼发光。</span><br><span class="line"></span><br><span class="line"><span class="number">4</span>、了解行业大概信息，如果是跨行进字节跳动，你是否对所投职能大概了解？互联网产品、信息流广告、算法数据、短视频内容等多职能部门，你了解多少？有哪些看法？</span><br><span class="line"></span><br><span class="line"><span class="number">5</span>、公司架构及所处部门等级，字节在全国有多少分公司？分别负责产品开发？客服？审核？内容？商业化？KA/LA/SMB，你知道自己即将去哪吗？发展前景和部门重要级是多少？</span><br><span class="line"></span><br><span class="line">面试时 <span class="number">6</span>、基础话术及注意事项，哪些话不能说？“我不懂但我愿意学”，哪些话说出来加分？“我认为最好的解决办法是…因为…”哪些话说了等于不说？“我觉得字节是互联网大厂，我想进来学习提升自己”</span><br><span class="line"></span><br><span class="line"><span class="number">7</span>、弄清四轮面试的负责人，第一轮是 Hr 电话面试，第二轮视频或线下面试，第三轮该小组负责人及 Hr 面试，第四轮部门或城市负责人面试。</span><br><span class="line"></span><br><span class="line"><span class="number">8</span>、压力面试怎么应对？问到你不懂的问题应该怎么回答？有哪些万能口水话？怎样高效通过第四轮面试？</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br></pre></td><td class="code"><pre><span class="line">一轮技术面：</span><br><span class="line"></span><br><span class="line"><span class="number">1</span>、自我介绍</span><br><span class="line"></span><br><span class="line"><span class="number">2</span>、找一个你做的项目中，你觉得比较有特色的项目介绍一下？项目的难点？ 解决的核心问题是什么？</span><br><span class="line"></span><br><span class="line"><span class="number">3</span>、任务系统怎么保证任务完成后发奖一定成功</span><br><span class="line"></span><br><span class="line"><span class="number">4</span>、zset 延时队列怎么实现的</span><br><span class="line"></span><br><span class="line"><span class="number">5</span>、redis 数据结构有哪些？分别怎么实现的？</span><br><span class="line"></span><br><span class="line"><span class="number">6</span>、redis 的持久化 ？</span><br><span class="line"></span><br><span class="line"><span class="number">7</span>、redis缓存过期策略，准备同步，哨兵机制和集群的区别？</span><br><span class="line"></span><br><span class="line"><span class="number">8</span>、有优化过mysql么？比如都优化了什么？ 聊到索引等</span><br><span class="line"></span><br><span class="line"><span class="number">9</span>、做大促保障，大促机器容量怎么评估？qps如何评估</span><br><span class="line"></span><br><span class="line"><span class="number">10</span>、并发修改数据库并回写Redis 如何保证数据一致性？</span><br><span class="line"></span><br><span class="line"><span class="number">11</span>、说一个你解决的印象深刻的线上问题，如何发现的？如何定位排查的？如何解决的？</span><br><span class="line"></span><br><span class="line"><span class="number">12</span>、性能优化是怎么优化的？优化手段你用了哪些？</span><br><span class="line"></span><br><span class="line"><span class="number">13</span>、你自己日常碰到的溢出多不多？都有哪些溢出？怎么发现？怎么解决的？</span><br><span class="line"></span><br><span class="line"><span class="number">14</span>、反问环节？</span><br><span class="line"></span><br><span class="line">算法题<span class="number">1</span>：使用<span class="number">3</span>个线程无线循环打印<span class="number">123123123</span></span><br><span class="line"></span><br><span class="line">算法题<span class="number">2</span>：一个无序数组找其子序列构成的和最大，要求子序列中的元素在原数组中两两都不相邻</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">二轮技术面：</span><br><span class="line"></span><br><span class="line"><span class="number">1</span>、自我介绍</span><br><span class="line"></span><br><span class="line"><span class="number">2</span>、介绍项目？项目的难点和痛点？ 说一说你在这个项目中你发挥的作用？什么引起而不同？</span><br><span class="line"></span><br><span class="line"><span class="number">3</span>、怎么理解分布式和微服务，为什么要拆分服务，会产生什么问题，怎么解决这些问题？</span><br><span class="line"></span><br><span class="line"><span class="number">4</span>、你们缓存用的什么？tair，为什么使用tair？tair和redis的区别是啥？</span><br><span class="line"></span><br><span class="line"><span class="number">5</span>、redis有序集合怎么实现的，跳表是什么，往跳表添加一个元素的过程，添加和获取元素，获取分数的时间复杂度，为什么不用红黑树，红黑树有什么特点，左旋右旋操作？</span><br><span class="line"></span><br><span class="line"><span class="number">6</span>、怎么理解高可用，如何保证高可用，有什么弊端，熔断机制，怎么实现？如果让你设计一个秒杀系统，你会怎么设计？会重点关注哪些？有使用缓存，那如果redis也扛不住了怎么办？</span><br><span class="line"></span><br><span class="line"><span class="number">7</span>、对于高并发怎么看，怎么算高并发，你们项目有么，如果有会产生什么问题，怎么解决？</span><br><span class="line"></span><br><span class="line"><span class="number">8</span>、你们限流怎么做的？说一说原理？</span><br><span class="line"></span><br><span class="line"><span class="number">9</span>、你做过大促保障，说一下大促期间解决的应急问题，什么问题？怎么解决的？</span><br><span class="line"></span><br><span class="line"><span class="number">10</span>、反问环节</span><br><span class="line"></span><br><span class="line">算法题<span class="number">1</span>：看你对限流原理理解的还可以，那写一个限流demo把</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">三轮技术面：</span><br><span class="line"></span><br><span class="line"><span class="number">1</span>、自我介绍</span><br><span class="line"></span><br><span class="line"><span class="number">2</span>、介绍项目？项目的难点和痛点？ 有哪些收获？</span><br><span class="line"></span><br><span class="line"><span class="number">3</span>、团队的组织架构，自己所在的团队有多少人，分工是怎么样的，自己负责哪部分的</span><br><span class="line"></span><br><span class="line"><span class="number">5</span>、如果项目让你重新来做，你怎么样做做得更好？</span><br><span class="line"></span><br><span class="line"><span class="number">6</span>、你平时开发中怎么解决问题，假如现在线上有一个告警，你的解决思路，过程</span><br><span class="line"></span><br><span class="line"><span class="number">7</span>、你们为什么要用mq，遇到过什么问题么，怎么就解决的</span><br><span class="line"></span><br><span class="line"><span class="number">8</span>、一般你们怎么建mysql索引，基于什么原则，遇到过索引失效的情况么，怎么优化的？</span><br><span class="line"></span><br><span class="line"><span class="number">9</span>、你得<span class="number">3.75</span> 做超出期望的是什么? 讲一讲你为什么值得<span class="number">375</span>？为什么你老板会把这些任务交给你？</span><br><span class="line"><span class="number">10</span>、你有什么问题要问的吗？</span><br><span class="line"></span><br><span class="line">算法题<span class="number">1</span>：一个字符串数组：[<span class="string">&quot;78&quot;</span>,<span class="string">&quot;4&quot;</span>,<span class="string">&quot;45&quot;</span>,<span class="string">&quot;99&quot;</span>]组成一个最大的整型数字输出出来</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">四轮hr面：</span><br><span class="line"></span><br><span class="line"><span class="number">1</span>、自我介绍</span><br><span class="line"></span><br><span class="line"><span class="number">2</span>、之前为什么选择阿里？</span><br><span class="line"></span><br><span class="line"><span class="number">3</span>、现在为什么选择字节？</span><br><span class="line"></span><br><span class="line"><span class="number">4</span>、你在工作协同上遇到过什么问题？怎么处理的？</span><br><span class="line"></span><br><span class="line"><span class="number">5</span>、为什么要换工作？</span><br><span class="line"></span><br><span class="line"><span class="number">6</span>、最近有关注什么前沿技术么？比如？自身做了什么事体现了自己关注前沿技术</span><br><span class="line"></span><br><span class="line"><span class="number">7</span>、你对自己接下来的预期是什么？职业规划？</span><br><span class="line"></span><br><span class="line"><span class="number">8</span>、手里还有其它offer么？有哪些？有多想去字节？</span><br><span class="line"></span><br><span class="line"><span class="number">9</span>、反问环节</span><br></pre></td></tr></table></figure><!-- flag of hidden posts --></article><div class="post-copyright"><div class="post-copyright__title"><span class="post-copyright-info"><h>字节面试准备</h></span></div><div class="post-copyright__type"><span class="post-copyright-info"><a href="https://cyborg2077.github.io/2025/02/22/bytedance/">https://cyborg2077.github.io/2025/02/22/bytedance/</a></span></div><div class="post-copyright-m"><div class="post-copyright-m-info"><div class="post-copyright-a"><h>作者</h><div class="post-copyright-cc-info"><h>Kyle Violet</h></div></div><div class="post-copyright-c"><h>发布于</h><div class="post-copyright-cc-info"><h>2025-02-22</h></div></div><div class="post-copyright-u"><h>更新于</h><div class="post-copyright-cc-info"><h>2025-02-24</h></div></div><div class="post-copyright-c"><h>许可协议</h><div class="post-copyright-cc-info"><a class="icon" rel="noopener" target="_blank" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a><a rel="noopener" target="_blank" title="CC BY-NC-SA 4.0" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a></div></div></div></div></div><div class="tag_share"><div class="post-meta__tag-list"></div></div><link rel="stylesheet" href="/css/coin.css" media="defer" onload="this.media='all'"/><div class="post-reward"><button class="tip-button reward-button"><span class="tip-button__text">投喂作者</span><div class="coin-wrapper"><div class="coin"><div class="coin__middle"></div><div class="coin__back"></div><div class="coin__front"></div></div></div><div class="reward-main"><ul class="reward-all"><li class="reward-item"><a href="/img/wechat.svg" target="_blank"><img class="post-qr-code-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/wechat.svg" alt="wechat"/></a><div class="post-qr-code-desc">wechat</div></li><li class="reward-item"><a href="/img/alipay.svg" target="_blank"><img class="post-qr-code-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/alipay.svg" alt="alipay"/></a><div class="post-qr-code-desc">alipay</div></li></ul></div></button></div><script defer="defer" src="/js/coin.js"></script><nav class="pagination-post" id="pagination"></nav><hr/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div></div><div class="comment-wrap"><div><div id="giscus-wrap"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="cols"><div class="col"><div class="container"><div class="front avatarPanel"><div class="inner"><div class="player-title">Attributes</div><div class="player-avatar"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://s2.loli.net/2025/02/23/AMkCrfzyFsBQE3D.png" onerror="this.onerror=null;this.src='/assets/r1.png'" alt="avatar"/></div></div></div><div class="back attributesPanel"><div class="inner"><div class="player-lv">LV.15</div><div class="player-name">Kyle Violet</div><div class="attributes-value"><div class="attributes-value-item"><a href="/archives/"><div class="attributes">文章</div><div class="value-bar"><div class="value-bar-fill" style="width:75.00%"><div class="value-bar-fill-in" style="background: rgba(89, 230, 54,0.6)"></div></div></div><span>150/200</span></a></div><div class="attributes-value-item"><a href="/tags/"><div class="attributes">标签</div><div class="value-bar"><div class="value-bar-fill" style="width:56.00%"><div class="value-bar-fill-in" style="background: rgba(224, 20, 20, 0.6)"></div></div></div><span>112/200</span></a></div><div class="attributes-value-item"><a href="/categories/"><div class="attributes">分类</div><div class="value-bar"><div class="value-bar-fill" style="width:14.00%"><div class="value-bar-fill-in" style="background: rgba(30, 97, 226, 0.6)"></div></div></div><span>14/100</span></a></div></div></div></div></div></div><div class="col"><div class="container"><div class="front descriptionPanel"><div class="inner"><div class="player_description">The furthest distance in the world <br>ls not between life and death <br>But when l stand in front of you <br> Yet you don't know that l love you</div><div class="play-bottom"></div></div></div><div class="back buttonPanel"><div class="inner"><a class="button--animated" id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/Cyborg2077"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon faa-parent animated-hover" href="https://github.com/Cyborg2077" target="_blank" title="Github"><svg class="social_icon iconfont" aria-hidden="true" style="width:1.15em;height:1.15em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-github-cyborg"></use></svg></a><a class="social-icon faa-parent animated-hover" href="http://wpa.qq.com/msgrd?v=3&amp;uin=1586385296&amp;site=qq&amp;menu=yes" target="_blank" title="QQ"><svg class="social_icon iconfont" aria-hidden="true" style="width:1.15em;height:1.15em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-QQ-cyborg"></use></svg></a><a class="social-icon faa-parent animated-hover" href="https://music.163.com/#/user/home?id=608935942" target="_blank" title="网抑云"><svg class="social_icon iconfont" aria-hidden="true" style="width:1.15em;height:1.15em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-netease-cyborg"></use></svg></a><a class="social-icon faa-parent animated-hover" href="https://space.bilibili.com/160218990" target="_blank" title="Bilibili"><svg class="social_icon iconfont" aria-hidden="true" style="width:1.15em;height:1.15em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-bilibili-cyborg"></use></svg></a><a class="social-icon faa-parent animated-hover" href="https://steamcommunity.com/profiles/76561198851566538/" target="_blank" title="Steam"><svg class="social_icon iconfont" aria-hidden="true" style="width:1.15em;height:1.15em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-steam-cyborg"></use></svg></a></div><div class="play-bottom"></div></div></div></div></div></div></div><div class="card-widget card-announcement"><div class="item-headline"><a class="faa-parent animated-hover"><svg class="faa-tada icon" style="height:25px;width:25px;fill:currentColor;position:relative;top:5px" aria-hidden="true"><use xlink:href="#icon-gonggao"></use></svg></a><span style="font-weight:bold">公告栏</span></div><div class="announcement_content">恰饭广告，一个文本类<font color="orange">AIGC</font>网站，<font color="orange">写各种作业的时候有大用！！</font><br>可以一键生成<font color="orange">开题报告</font>、<font color="orange">毕业论文</font>、<font color="orange">答辩PPT</font>等各种文档生成需求,近期还上线了新版降重模型,查重率支持降到个位数,目前还有<font color="orange">推广赚钱</font>活动，感兴趣的兄弟萌可以戳链接看看：<a href="https://www.kuaijiangchong.com.cn/" target="_blank">快降重--高端降重，遥遥领先</a></div><div id="welcome-info"></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><svg class="meta_icon" style="width:22px;height:22px;position:relative;top:5px"><use xlink:href="#icon-mulu1"></use></svg><span style="font-weight:bold">目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AE%97%E6%B3%95%E9%A2%98"><span class="toc-number">1.</span> <span class="toc-text">算法题</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#121-%E4%B9%B0%E5%8D%96%E8%82%A1%E7%A5%A8%E7%9A%84%E6%9C%80%E4%BD%B3%E6%97%B6%E6%9C%BA"><span class="toc-number">1.1.</span> <span class="toc-text">121. 买卖股票的最佳时机</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#103-%E4%BA%8C%E5%8F%89%E6%A0%91%E7%9A%84%E9%94%AF%E9%BD%BF%E5%BD%A2%E5%B1%82%E5%BA%8F%E9%81%8D%E5%8E%86"><span class="toc-number">1.2.</span> <span class="toc-text">103. 二叉树的锯齿形层序遍历</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-%E6%97%A0%E9%87%8D%E5%A4%8D%E5%AD%97%E7%AC%A6%E7%9A%84%E6%9C%80%E9%95%BF%E5%AD%90%E4%B8%B2"><span class="toc-number">1.3.</span> <span class="toc-text">3. 无重复字符的最长子串</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#146-LRU%E7%BC%93%E5%AD%98%E6%9C%BA%E5%88%B6"><span class="toc-number">1.4.</span> <span class="toc-text">146. LRU缓存机制</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#206-%E5%8F%8D%E8%BD%AC%E9%93%BE%E8%A1%A8"><span class="toc-number">1.5.</span> <span class="toc-text">206.反转链表</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#92-%E5%8F%8D%E8%BD%AC%E9%93%BE%E8%A1%A82"><span class="toc-number">1.6.</span> <span class="toc-text">92. 反转链表2</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#15-%E4%B8%89%E6%95%B0%E4%B9%8B%E5%92%8C"><span class="toc-number">1.7.</span> <span class="toc-text">15. 三数之和</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#42-%E6%8E%A5%E9%9B%A8%E6%B0%B4"><span class="toc-number">1.8.</span> <span class="toc-text">42. 接雨水</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E4%B8%A4%E6%95%B0%E4%B9%8B%E5%92%8C"><span class="toc-number">1.9.</span> <span class="toc-text">1. 两数之和</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#236-%E4%BA%8C%E5%8F%89%E6%A0%91%E7%9A%84%E6%9C%80%E8%BF%91%E5%85%AC%E5%85%B1%E7%A5%96%E5%85%88"><span class="toc-number">1.10.</span> <span class="toc-text">236. 二叉树的最近公共祖先</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E8%87%AA%E6%88%91%E4%BB%8B%E7%BB%8D"><span class="toc-number">2.</span> <span class="toc-text">自我介绍</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B8%8E%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1"><span class="toc-number">3.</span> <span class="toc-text">设计模式与架构设计</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%BA%E4%BB%80%E4%B9%88%E4%B8%8D%E7%9B%B4%E6%8E%A5%E7%94%A8%E6%A8%A1%E6%9D%BF%E6%A8%A1%E5%BC%8F%EF%BC%9F"><span class="toc-number">3.1.</span> <span class="toc-text">为什么不直接用模板模式？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BD%AE%E8%AF%A2%E6%98%AF%E4%B8%BB%E5%8A%A8%E6%8B%89%E5%8F%96%E8%BF%98%E6%98%AF%E4%BA%8B%E4%BB%B6%E9%A9%B1%E5%8A%A8%EF%BC%9F"><span class="toc-number">3.2.</span> <span class="toc-text">轮询是主动拉取还是事件驱动？</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#SSE"><span class="toc-number">4.</span> <span class="toc-text">SSE</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#MySQL%E8%A1%8C%E9%94%81"><span class="toc-number">5.</span> <span class="toc-text">MySQL行锁</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E8%87%AA%E7%A0%94%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97%E6%9B%BF%E4%BB%A3kafka"><span class="toc-number">6.</span> <span class="toc-text">自研消息队列替代kafka</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#DAG%E7%9A%84%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E3%80%81%E5%8F%AF%E8%A7%86%E5%8C%96%E5%8F%8A%E5%A4%B1%E8%B4%A5%E5%A6%82%E4%BD%95%E9%87%8D%E8%AF%95"><span class="toc-number">7.</span> <span class="toc-text">DAG的数据结构、可视化及失败如何重试</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%8D%B0%E8%B1%A1%E6%B7%B1%E5%88%BB%E9%97%AE%E9%A2%98"><span class="toc-number">8.</span> <span class="toc-text">印象深刻问题</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Redisson"><span class="toc-number">9.</span> <span class="toc-text">Redisson</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Redisson-%E5%BB%B6%E8%BF%9F%E9%98%9F%E5%88%97%E7%9A%84%E5%BA%95%E5%B1%82%E5%AE%9E%E7%8E%B0%E5%8E%9F%E7%90%86"><span class="toc-number">9.1.</span> <span class="toc-text">Redisson 延迟队列的底层实现原理</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Redis-%E5%AE%95%E6%9C%BA%E6%88%96%E9%87%8D%E5%90%AF%E6%97%B6%EF%BC%8C%E5%A6%82%E4%BD%95%E4%BF%9D%E8%AF%81%E5%BB%B6%E8%BF%9F%E4%BB%BB%E5%8A%A1%E4%B8%8D%E4%B8%A2%E5%A4%B1"><span class="toc-number">9.2.</span> <span class="toc-text">Redis 宕机或重启时，如何保证延迟任务不丢失</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#RDB"><span class="toc-number">9.2.1.</span> <span class="toc-text">RDB</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#AOF"><span class="toc-number">9.2.2.</span> <span class="toc-text">AOF</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BA%8C%E5%80%BC%E5%93%88%E5%B8%8C%E9%99%8D%E7%BB%B4"><span class="toc-number">10.</span> <span class="toc-text">二值哈希降维</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Java"><span class="toc-number">11.</span> <span class="toc-text">Java</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Java%E5%86%85%E5%AD%98%E6%A8%A1%E5%9E%8B"><span class="toc-number">11.1.</span> <span class="toc-text">Java内存模型</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#SpringBoot"><span class="toc-number">12.</span> <span class="toc-text">SpringBoot</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#AOP"><span class="toc-number">12.1.</span> <span class="toc-text">AOP</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8B%E5%8A%A1%E4%BC%A0%E6%92%AD%E6%9C%BA%E5%88%B6"><span class="toc-number">12.2.</span> <span class="toc-text">事务传播机制</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#MDC-amp-ThreadLocal"><span class="toc-number">12.3.</span> <span class="toc-text">MDC &amp; ThreadLocal</span></a></li></ol></li></ol></div></div></div></div></main><footer id="footer" style="background-color: transparent;"><div id="footer-wrap"><div id="ft"><div class="ft-item-1"><div class="t-top"><div class="t-t-l"><p class="ft-t t-l-t">格言🧬</p><div class="bg-ad"><div>离我们最近的星星有4.25光年远，我们许的愿望至少都要花上9年才能成真。————所以，向宇宙下订单要有耐心。✨</div><div class="btn-xz-box"><a class="btn-xz" target="_blank" rel="noopener" href="https://stellarium.org/">点击开启星辰之旅</a></div></div></div><div class="t-t-r"><p class="ft-t t-l-t">猜你想看💡</p><ul class="ft-links"><li><a href="/moments/">我的说说</a><a href="/box/nav/">网址导航</a></li><li><a href="/social/link/">我的朋友</a><a href="/comments/">留点什么</a></li><li><a href="/personal/about/">关于作者</a><a href="/archives/">文章归档</a></li><li><a href="/categories/">文章分类</a><a href="/tags/">文章标签</a></li><li><a href="/box/fitness/">健身日寄</a><a href="/secret/">记忆胶囊</a></li></ul></div></div></div><div class="ft-item-2"><p class="ft-t">推荐友链⌛</p><div class="ft-img-group"><div class="img-group-item"><a href="https://cyborg2077.github.io/" title="Kyle's Blog"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://s2.loli.net/2025/02/23/AMkCrfzyFsBQE3D.png" alt=""/></a></div><div class="img-group-item"><a target="_blank" rel="noopener" href="https://pumpkin-ovo.github.io/" title="南瓜酱(✘_✘)"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://s2.loli.net/2024/11/23/YO4BaHEeok8CmFx.png" alt=""/></a></div><div class="img-group-item"><a href="javascript:void(0)" title=""><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://lskypro.acozycotage.net/LightPicture/2022/12/65307a5828af6790.webp" alt=""/></a></div><div class="img-group-item"><a href="javascript:void(0)" title=""><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://lskypro.acozycotage.net/LightPicture/2022/12/65307a5828af6790.webp" alt=""/></a></div><div class="img-group-item"><a href="javascript:void(0)" title=""><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://lskypro.acozycotage.net/LightPicture/2022/12/65307a5828af6790.webp" alt=""/></a></div><div class="img-group-item"><a href="javascript:void(0)" title=""><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://lskypro.acozycotage.net/LightPicture/2022/12/65307a5828af6790.webp" alt=""/></a></div><div class="img-group-item"><a href="javascript:void(0)" title=""><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://lskypro.acozycotage.net/LightPicture/2022/12/65307a5828af6790.webp" alt=""/></a></div><div class="img-group-item"><a href="javascript:void(0)" title=""><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://lskypro.acozycotage.net/LightPicture/2022/12/65307a5828af6790.webp" alt=""/></a></div></div></div></div><div class="copyright"><span><b>&copy;2021-2025</b></span><span><b>&nbsp;&nbsp;By Kyle Violet</b></span></div><div id="workboard"></div><pghbdages><a class="github-badge" target="_blank" href="https://hexo.io/" style="margin-inline:5px" title="博客框架为Hexo_v6.3.0"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://sourcebucket.s3.ladydaily.com/badge/Frame-Hexo-blue.svg" alt=""/></a><a class="github-badge" target="_blank" href="https://butterfly.js.org/" style="margin-inline:5px" title="主题版本Butterfly_v4.3.1"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://sourcebucket.s3.ladydaily.com/badge/Theme-Butterfly-6513df.svg" alt=""/></a><a class="github-badge" target="_blank" href="https://vercel.com/" style="margin-inline:5px" title="本站采用多线部署，主线路托管于Vercel"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://sourcebucket.s3.ladydaily.com/badge/Hosted-Vercel-brightgreen.svg" alt=""/></a><a class="github-badge" target="_blank" href="https://user.51.la/" style="margin-inline:5px" title="本站数据分析得益于51la技术支持"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://sourcebucket.s3.ladydaily.com/badge/Analytics-51la-3db1eb.svg" alt=""/></a><a class="github-badge" target="_blank" href="https://icp.gov.moe/?keyword=20226665" style="margin-inline:5px" title="本站已加入萌ICP豪华套餐，萌ICP备20226665号"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://sourcebucket.s3.ladydaily.com/badge/萌ICP备-20226665-fe1384.svg" alt=""/></a><a class="github-badge" target="_blank" href="https://bitiful.dogecast.com/buckets" style="margin-inline:5px" title="本网站经Service Worker分流至缤纷云对象存储"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src=" https://sourcebucket.s3.ladydaily.com/badge/Bucket-缤纷云-9c62da.svg" alt=""/></a><a class="github-badge" target="_blank" href="https://www.netdun.net/" style="margin-inline:5px" title="本站使用网盾星球提供CDN加速与防护"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://sourcebucket.s3.ladydaily.com/badge/CDN-网盾星球-fff2cc.svg" alt=""/></a><a class="github-badge" target="_blank" href="https://github.com/" style="margin-inline:5px" title="本网站源码由Github提供存储仓库"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src=" https://sourcebucket.s3.ladydaily.com/badge/Source-Github-d021d6.svg" alt=""/></a></pghbdages></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><a class="icon-V hidden" onclick="switchNightMode()" title="浅色和深色模式转换"><svg width="25" height="25" viewBox="0 0 1024 1024"><use id="modeicon" xlink:href="#icon-moon"></use></svg></a><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button><button class="share" type="button" title="右键模式" onclick="changeMouseMode()"><i class="fas fa-mouse"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog right_side"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button class="share" type="button" title="分享链接" onclick="share()"><i class="fas fa-share-nodes"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i><span id="percent">0<span>%</span></span></button><button id="go-down" type="button" title="直达底部" onclick="btf.scrollToDest(document.body.scrollHeight, 500)"><i class="fas fa-arrow-down"></i></button></div></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div id="local-search-results"></div></div></div><div id="search-mask"></div></div><div class="js-pjax" id="rightMenu"><div class="rightMenu-group rightMenu-small"><a class="rightMenu-item" href="javascript:window.history.back();"><i class="fa fa-arrow-left"></i></a><a class="rightMenu-item" href="javascript:window.history.forward();"><i class="fa fa-arrow-right"></i></a><a class="rightMenu-item" href="javascript:window.location.reload();"><i class="fa fa-refresh"></i></a><a class="rightMenu-item" href="javascript:rmf.scrollToTop();"><i class="fa fa-arrow-up"></i></a></div><div class="rightMenu-group rightMenu-line hide" id="menu-text"><a class="rightMenu-item" href="javascript:rmf.copySelect();"><i class="fa fa-copy"></i><span>复制</span></a><a class="rightMenu-item" href="javascript:window.open(&quot;https://www.baidu.com/s?wd=&quot;+window.getSelection().toString());window.location.reload();"><i class="fa fa-search"></i><span>百度搜索</span></a></div><div class="rightMenu-group rightMenu-line hide" id="menu-too"><a class="rightMenu-item" href="javascript:window.open(window.getSelection().toString());window.location.reload();"><i class="fa fa-link"></i><span>转到链接</span></a></div><div class="rightMenu-group rightMenu-line hide" id="menu-paste"><a class="rightMenu-item" href="javascript:rmf.paste()"><i class="fa fa-copy"></i><span>粘贴</span></a></div><div class="rightMenu-group rightMenu-line hide" id="menu-post"><a class="rightMenu-item" href="#post-comment"><i class="fas fa-comment"></i><span>空降评论</span></a><a class="rightMenu-item" href="javascript:rmf.copyWordsLink()"><i class="fa fa-link"></i><span>复制本文地址</span></a></div><div class="rightMenu-group rightMenu-line hide" id="menu-to"><a class="rightMenu-item" href="javascript:rmf.openWithNewTab()"><i class="fa fa-window-restore"></i><span>新窗口打开</span></a><a class="rightMenu-item" id="menu-too" href="javascript:rmf.open()"><i class="fa fa-link"></i><span>转到链接</span></a><a class="rightMenu-item" href="javascript:rmf.copyLink()"><i class="fa fa-copy"></i><span>复制链接</span></a></div><div class="rightMenu-group rightMenu-line hide" id="menu-img"><a class="rightMenu-item" href="javascript:rmf.saveAs()"><i class="fa fa-download"></i><span>保存图片</span></a><a class="rightMenu-item" href="javascript:rmf.openWithNewTab()"><i class="fa fa-window-restore"></i><span>在新窗口打开</span></a><a class="rightMenu-item" href="javascript:rmf.copyLink()"><i class="fa fa-copy"></i><span>复制图片链接</span></a></div><div class="rightMenu-group rightMenu-line"><a class="rightMenu-item" href="javascript:randomPost()"><i class="fa fa-paper-plane"></i><span>随便逛逛</span></a><a class="rightMenu-item" href="javascript:switchNightMode();"><i class="fa fa-moon"></i><span>昼夜切换</span></a><a class="rightMenu-item" href="/personal/about/"><i class="fa fa-info-circle"></i><span>关于博客</span></a><a class="rightMenu-item" href="javascript:toggleWinbox();"><i class="fas fa-cog"></i><span>美化设置</span></a><a class="rightMenu-item" href="javascript:rmf.fullScreen();"><i class="fas fa-expand"></i><span>切换全屏</span></a><a class="rightMenu-item" href="javascript:window.print();"><i class="fa-solid fa-print"></i><span>打印页面</span></a></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.staticfile.org/fancyapps-ui/4.0.31/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page@5.1.0/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload@17.3.1/dist/lazyload.iife.min.js"></script><script src="/js/search/local-search.js"></script><script async="async">var preloader = {
  endLoading: () => {
    document.body.style.overflow = 'auto';
    document.getElementById('loading-box').classList.add("loaded")
  },
  initLoading: () => {
    document.body.style.overflow = '';
    document.getElementById('loading-box').classList.remove("loaded")

  }
}
window.addEventListener('load',preloader.endLoading())
setTimeout(function(){preloader.endLoading();}, 5000);
document.getElementById('loading-box').addEventListener('click',()=> {preloader.endLoading()})</script><div class="js-pjax"><script>function loadGiscus () {
  let nowTheme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'dark' : 'light'

  const config = Object.assign({
    src: 'https://giscus.app/client.js',
    'data-repo': 'Cyborg2077/Cyborg2077.github.io',
    'data-repo-id': 'R_kgDOGflxEw',
    'data-category-id': 'DIC_kwDOGflxE84CRxKp',
    'data-mapping': 'pathname',
    'data-theme': nowTheme,
    'data-reactions-enabled': '1',
    crossorigin: 'anonymous',
    async: true
  },null)

  let ele = document.createElement('script')
  for (let key in config) {
    ele.setAttribute(key, config[key])
  }
  document.getElementById('giscus-wrap').insertAdjacentElement('afterbegin',ele)
}

function changeGiscusTheme () {
  const theme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'dark' : 'light'

  function sendMessage(message) {
    const iframe = document.querySelector('iframe.giscus-frame');
    if (!iframe) return;
    iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
  }

  sendMessage({
    setConfig: {
      theme: theme
    }
  });
}

if ('Giscus' === 'Giscus' || !true) {
  if (true) btf.loadComment(document.getElementById('giscus-wrap'), loadGiscus)
  else loadGiscus()
} else {
  function loadOtherComment () {
    loadGiscus()
  }
}</script></div><div class="aplayer no-destroy" data-id="6831019121" data-server="netease" data-type="playlist" data-fixed="true" data-mini="true" data-listFolded="false" data-order="random" data-preload="none" data-autoplay="true" muted></div><div id="vcomments"></div><script> new Valine({ el:'#vcomment', appId:'06KXhkKAB9IH7PreBEBl0WL0-MdYXbMMI', appKey:'JApVWPKkDT6qzbMdWfKlva41' })</script><script src="https://cdn.staticfile.org/jquery/3.6.3/jquery.min.js"></script><script async data-pjax src="/js/txmap.js"></script><script async src="https://cdn1.tianli0.top/npm/vue@2.6.14/dist/vue.min.js"></script><script async src="https://cdn1.tianli0.top/npm/element-ui@2.15.6/lib/index.js"></script><script async src="https://cdn.bootcdn.net/ajax/libs/clipboard.js/2.0.11/clipboard.min.js"></script><script defer type="text/javascript" src="https://cdn1.tianli0.top/npm/sweetalert2@8.19.0/dist/sweetalert2.all.js"></script><script async src="//npm.elemecdn.com/pace-js@1.2.4/pace.min.js"></script><script defer src="https://cdn1.tianli0.top/gh/nextapps-de/winbox/dist/winbox.bundle.min.js"></script><script async src="//at.alicdn.com/t/c/font_3586335_hsivh70x0fm.js"></script><script async src="//at.alicdn.com/t/c/font_3636804_gr02jmjr3y9.js"></script><script async src="//at.alicdn.com/t/c/font_3612150_kfv55xn3u2g.js"></script><script async src="//at.alicdn.com/t/c/font_3049706_xky4v9paku7.js"></script><script async src="//at.alicdn.com/t/c/font_3049706_m3wrww27lm.js"></script><script async src="https://cdn.wpon.cn/2022-sucai/Gold-ingot.js"></script><canvas id="universe"></canvas><canvas id="snow"></canvas><script defer src="/js/fomal.js"></script><script async src="//at.alicdn.com/t/c/font_4244550_myoln7t3mdn.js"></script><script id="canvas_nest" defer="defer" color="255,192,203" opacity="0.7" zIndex="-1" count="99" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/canvas-nest.min.js"></script><script id="click-show-text" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/click-show-text.min.js" data-mobile="false" data-text="富强,民主,文明,和谐,自由,平等,公正,法制,爱国,敬业,诚信,友善" data-fontsize="15px" data-random="false" async="async"></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer@1.10.1/dist/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/aplayer@1.10.1/dist/APlayer.min.js"></script><script src="https://cdn1.tianli0.top/npm/js-heo@1.0.12/metingjs/Meting.min.js"></script><script src="https://lib.baomitu.com/pjax/0.2.8/pjax.min.js"></script><script>let pjaxSelectors = ["link[rel=\"canonical\"]","meta[property=\"og:image\"]","meta[property=\"og:title\"]","meta[property=\"og:url\"]","head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show","#web_bg",".js-pjax","#bibi","body > title","#app","#tag-echarts","#posts-echart","#categories-echarts"]

var pjax = new Pjax({
  elements: 'a:not([target="_blank"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: false,
  scrollRestoration: false
})

document.addEventListener('pjax:send', function () {

  // removeEventListener scroll 
  window.tocScrollFn && window.removeEventListener('scroll', window.tocScrollFn)
  window.scrollCollect && window.removeEventListener('scroll', scrollCollect)

  typeof preloader === 'object' && preloader.initLoading()
  document.getElementById('rightside').style.cssText = "opacity: ''; transform: ''"
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')

  typeof disqusjs === 'object' && disqusjs.destroy()
})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof chatBtnFn === 'function' && chatBtnFn()
  typeof panguInit === 'function' && panguInit()

  // google analytics
  typeof gtag === 'function' && gtag('config', '', {'page_path': window.location.pathname});

  // baidu analytics
  typeof _hmt === 'object' && _hmt.push(['_trackPageview',window.location.pathname]);

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()

  typeof preloader === 'object' && preloader.endLoading()
})

document.addEventListener('pjax:error', (e) => {
  if (e.request.status === 404) {
    pjax.loadUrl('/404.html')
  }
})</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div><!-- hexo injector body_end start --> <script data-pjax>if(document.getElementById('recent-posts') && (location.pathname ==='/'|| '/' ==='all')){
    var parent = document.getElementById('recent-posts');
    var child = '<div class="recent-post-item" style="width:100%;height: auto"><div id="catalog_magnet"><div class="magnet_item"><a class="magnet_link" href="https://cyborg2077.github.io/categories/学习笔记/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">🍡 Kyleの学习笔记 (67)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><div class="magnet_item"><a class="magnet_link" href="https://cyborg2077.github.io/categories/面试题/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">🍼 Kyleの面试题总结 (10)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><div class="magnet_item"><a class="magnet_link" href="https://cyborg2077.github.io/categories/力扣/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">🍉 Kyleの刷题日志 (13)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><div class="magnet_item"><a class="magnet_link" href="https://cyborg2077.github.io/categories/杂谈/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">🍟 Kyleの杂谈 (2)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><div class="magnet_item"><a class="magnet_link" href="https://cyborg2077.github.io/categories/随写/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">🍨 Kyleの随写 (15)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><div class="magnet_item"><a class="magnet_link" href="https://cyborg2077.github.io/categories/实用教程/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">🍥 Kyleの实用教程 (3)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><a class="magnet_link_more"  href="https://cyborg2077.github.io/categories/" style="flex:1;text-align: center;margin-bottom: 10px;">查看更多...</a></div></div>';
    console.log('已挂载magnet')
    parent.insertAdjacentHTML("afterbegin",child)}
     </script><style>#catalog_magnet{flex-wrap: wrap;display: flex;width:100%;justify-content:space-between;padding: 10px 10px 0 10px;align-content: flex-start;}.magnet_item{flex-basis: calc(33.333333333333336% - 5px);background: #e9e9e9;margin-bottom: 10px;border-radius: 8px;transition: all 0.2s ease-in-out;}.magnet_item:hover{background: var(--text-bg-hover)}.magnet_link_more{color:#555}.magnet_link{color:black}.magnet_link:hover{color:white}@media screen and (max-width: 600px) {.magnet_item {flex-basis: 100%;}}.magnet_link_context{display:flex;padding: 10px;font-size:16px;transition: all 0.2s ease-in-out;}.magnet_link_context:hover{padding: 10px 20px;}</style>
    <style></style><script data-pjax>
  function butterfly_clock_anzhiyu_injector_config(){
    var parent_div_git = document.getElementsByClassName('sticky_layout')[0];
    var item_html = '<div class="card-widget card-clock"><div class="card-glass"><div class="card-background"><div class="card-content"><div id="hexo_electric_clock"><img class="entered loading" id="card-clock-loading" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.cbd.int/hexo-butterfly-clock-anzhiyu@1.1.6/lib/loading.gif" style="height: 120px; width: 100%;" data-ll-status="loading"/></div></div></div></div></div>';
    console.log('已挂载butterfly_clock_anzhiyu')
    if(parent_div_git) {
      parent_div_git.insertAdjacentHTML("afterbegin",item_html)
    }
  }
  var elist = 'null'.split(',');
  var cpage = location.pathname;
  var epage = 'all';
  var qweather_key = 'e57e16d653c34fc49b5d1cc0713eb9ab';
  var gaud_map_key = 'e2b04289e870b005374ee030148d64fd&s=rsv3';
  var baidu_ak_key = 'undefined';
  var flag = 0;
  var clock_rectangle = '112.6534116,27.96920845';
  var clock_default_rectangle_enable = 'false';

  for (var i=0;i<elist.length;i++){
    if (cpage.includes(elist[i])){
      flag++;
    }
  }

  if ((epage ==='all')&&(flag == 0)){
    butterfly_clock_anzhiyu_injector_config();
  }
  else if (epage === cpage){
    butterfly_clock_anzhiyu_injector_config();
  }
  </script><script src="https://widget.qweather.net/simple/static/js/he-simple-common.js?v=2.0"></script><script data-pjax src="https://cdn.cbd.int/hexo-butterfly-clock-anzhiyu@1.1.6/lib/clock.min.js"></script><script data-pjax>
  function butterfly_footer_beautify_injector_config(){
    var parent_div_git = document.getElementById('footer-wrap');
    var item_html = '<div id="workboard"></div><div id="ghbdages" style="overflow:hidden;max-height:90px;height:auto;text-align:center;margin-top:10px"><div class="swiper-wrapper"><div class="swiper-slide"><a class="github-badge" target="_blank" href="https://hexo.io/" style="margin-inline:5px" title="博客框架为Hexo_v5.4.0"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img.shields.io/badge/Frame-Hexo-blue?style=flat&amp;logo=hexo" alt=""/></a><a class="github-badge" target="_blank" href="https://butterfly.js.org/" style="margin-inline:5px" title="主题版本Butterfly_v4.1.0"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img.shields.io/badge/Theme-Butterfly-6513df?style=flat&amp;logo=bitdefender" alt=""/></a><a class="github-badge" target="_blank" href="https://github.com/" style="margin-inline:5px" title="本站项目由Github托管"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img.shields.io/badge/Source-Github-d021d6?style=flat&amp;logo=GitHub" alt=""/></a></div><div class="swiper-slide"><a class="github-badge" target="_blank" href="http://creativecommons.org/licenses/by-nc-sa/4.0/" style="margin-inline:5px" title="本站采用知识共享署名-非商业性使用-相同方式共享4.0国际许可协议进行许可"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img.shields.io/badge/Copyright-BY--NC--SA%204.0-d42328?style=flat&amp;logo=Claris" alt=""/></a></div></div></div><style>a.github-badge:hover:before {display:none}</style>';
    console.log('已挂载butterfly_footer_beautify')
    parent_div_git.insertAdjacentHTML("beforeend",item_html)
    }
  var elist = 'null'.split(',');
  var cpage = location.pathname;
  var epage = 'all';
  var flag = 0;

  for (var i=0;i<elist.length;i++){
    if (cpage.includes(elist[i])){
      flag++;
    }
  }

  if ((epage ==='all')&&(flag == 0)){
    butterfly_footer_beautify_injector_config();
  }
  else if (epage === cpage){
    butterfly_footer_beautify_injector_config();
  }
  </script><script async src="https://unpkg.zhimg.com/hexo-butterfly-footer-beautify@1.0.0/lib/runtime.min.js"></script><script defer src="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper.min.js"></script><script defer data-pjax src="https://npm.elemecdn.com/hexo-butterfly-footer-beautify/lib/swiperbdage_init.min.js"></script><script data-pjax src="https://npm.elemecdn.com/hexo-filter-gitcalendar/lib/gitcalendar.js"></script><script data-pjax>
  function gitcalendar_injector_config(){
      var parent_div_git = document.getElementById('gitZone');
      var item_html = '<div class="recent-post-item" id="gitcalendarBar" style="width:100%;height:auto;padding:10px;"><style>#git_container{min-height: 320px}@media screen and (max-width:650px) {#git_container{min-height: 0px}}</style><div id="git_loading" style="width:10%;height:100%;margin:0 auto;display: block;"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 50 50" style="enable-background:new 0 0 50 50" xml:space="preserve"><path fill="#d0d0d0" d="M25.251,6.461c-10.318,0-18.683,8.365-18.683,18.683h4.068c0-8.071,6.543-14.615,14.615-14.615V6.461z" transform="rotate(275.098 25 25)"><animatetransform attributeType="xml" attributeName="transform" type="rotate" from="0 25 25" to="360 25 25" dur="0.6s" repeatCount="indefinite"></animatetransform></path></svg><style>#git_container{display: none;}</style></div><div id="git_container"></div></div>';
      parent_div_git.insertAdjacentHTML("afterbegin",item_html)
      console.log('已挂载gitcalendar')
      }

    if( document.getElementById('gitZone') && (location.pathname ==='/site/census/'|| '/site/census/' ==='all')){
        gitcalendar_injector_config()
        GitCalendarInit("/api?Cyborg2077",['#d9e0df', '#c6e0dc', '#a8dcd4', '#9adcd2', '#89ded1', '#77e0d0', '#5fdecb', '#47dcc6', '#39dcc3', '#1fdabe', '#00dab9'],'Cyborg2077')
    }
  </script><div class="js-pjax"><script async="async">var arr = document.getElementsByClassName('recent-post-item');
for(var i = 0;i<arr.length;i++){
    arr[i].classList.add('wow');
    arr[i].classList.add('animate__zoomIn');
    arr[i].setAttribute('data-wow-duration', '2s');
    arr[i].setAttribute('data-wow-delay', '200ms');
    arr[i].setAttribute('data-wow-offset', '30');
    arr[i].setAttribute('data-wow-iteration', '1');
  }</script><script async="async">var arr = document.getElementsByClassName('card-widget');
for(var i = 0;i<arr.length;i++){
    arr[i].classList.add('wow');
    arr[i].classList.add('animate__zoomIn');
    arr[i].setAttribute('data-wow-duration', '2s');
    arr[i].setAttribute('data-wow-delay', '200ms');
    arr[i].setAttribute('data-wow-offset', '30');
    arr[i].setAttribute('data-wow-iteration', '1');
  }</script></div><script defer src="https://npm.elemecdn.com/hexo-butterfly-wowjs/lib/wow.min.js"></script><script defer src="https://npm.elemecdn.com/hexo-butterfly-wowjs/lib/wow_init.js"></script><script data-pjax>
  function butterfly_swiper_injector_config(){
    var parent_div_git = document.getElementById('recent-posts');
    var item_html = '<div class="recent-post-item" style="height: auto;width: 100%"><div class="blog-slider swiper-container-fade swiper-container-horizontal" id="swiper_container"><div class="blog-slider__wrp swiper-wrapper" style="transition-duration: 0ms;"><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;2022/11/05/NewFeaturesOfJava8/&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fpic3.zhimg.com%2Fv2-dbe4189cad999946abdcd174fba140ea_r.jpg&amp;refer=http%3A%2F%2Fpic3.zhimg.com&amp;app=2002&amp;size=f9999,10000&amp;q=a80&amp;n=0&amp;g=0n&amp;fmt=auto?sec=1651217592&amp;t=44946406f8e7b9ed15f483e0495b33c9" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2022-11-05</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;2022/11/05/NewFeaturesOfJava8/&quot;);" href="javascript:void(0);" alt="">Java 8新特性</a><div class="blog-slider__text">Java8新特性，之前只是草草看了一下，后来发现stream流操作挺好用的，来补一下票</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;2022/11/05/NewFeaturesOfJava8/&quot;);" href="javascript:void(0);" alt="">详情       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;2022/12/22/MeassageQueue/&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img2.baidu.com/it/u=595920241,2439700946&amp;fm=253&amp;fmt=auto&amp;app=120&amp;f=JPEG?w=1422&amp;h=800" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2022-12-22</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;2022/12/22/MeassageQueue/&quot;);" href="javascript:void(0);" alt="">MeassageQueue</a><div class="blog-slider__text">消息队列相关学习记录</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;2022/12/22/MeassageQueue/&quot;);" href="javascript:void(0);" alt="">详情       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;2022/12/21/Docker/&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://pic2.zhimg.com/v2-d0a0172a71b6bc4ff18cd1f11bfa6b3b_r.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2022-12-21</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;2022/12/21/Docker/&quot;);" href="javascript:void(0);" alt="">Docker</a><div class="blog-slider__text">Docker实用篇学习笔记</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;2022/12/21/Docker/&quot;);" href="javascript:void(0);" alt="">详情       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;2022/12/24/ElasticSearch/&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fi0.hdslb.com%2Fbfs%2Farticle%2Fbf0e4aa0bee8b05d446914c97ae4a611b64f6837.png&amp;refer=http%3A%2F%2Fi0.hdslb.com&amp;app=2002&amp;size=f9999,10000&amp;q=a80&amp;n=0&amp;g=0n&amp;fmt=jpeg?sec=1645340425&amp;t=0731cf208414cf55a532ab7a232cc4ff" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2022-12-24</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;2022/12/24/ElasticSearch/&quot;);" href="javascript:void(0);" alt="">ElasticSearch</a><div class="blog-slider__text">分布式搜索引擎</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;2022/12/24/ElasticSearch/&quot;);" href="javascript:void(0);" alt="">详情       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;2022/11/08/SpringCloud/&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img0.baidu.com/it/u=4155835667,974645702&amp;fm=253&amp;fmt=auto&amp;app=138&amp;f=PNG?w=889&amp;h=500" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2022-11-08</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;2022/11/08/SpringCloud/&quot;);" href="javascript:void(0);" alt="">SpringCloud</a><div class="blog-slider__text">SpringCloud学习笔记</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;2022/11/08/SpringCloud/&quot;);" href="javascript:void(0);" alt="">详情       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;2022/09/29/ReggieTakeOut/&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img2.baidu.com/it/u=781630402,3569603339&amp;fm=253&amp;fmt=auto&amp;app=138&amp;f=JPEG?w=500&amp;h=281" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2022-09-29</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;2022/09/29/ReggieTakeOut/&quot;);" href="javascript:void(0);" alt="">瑞吉外卖</a><div class="blog-slider__text">瑞吉外卖实战项目</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;2022/09/29/ReggieTakeOut/&quot;);" href="javascript:void(0);" alt="">详情       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;2022/10/22/RedisPractice/&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img2.baidu.com/it/u=1767752488,2158562887&amp;fm=253&amp;fmt=auto&amp;app=138&amp;f=JPEG?w=932&amp;h=500" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2022-10-22</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;2022/10/22/RedisPractice/&quot;);" href="javascript:void(0);" alt="">Redis实战篇</a><div class="blog-slider__text">Redis实战篇，包含优惠券秒杀，分布式锁，消息队列用户签到等功能</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;2022/10/22/RedisPractice/&quot;);" href="javascript:void(0);" alt="">详情       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;2023/10/28/RDelayedQueue/&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img2.baidu.com/it/u=595920241,2439700946&amp;fm=253&amp;fmt=auto&amp;app=120&amp;f=JPEG?w=1422&amp;h=800" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2023-10-28</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;2023/10/28/RDelayedQueue/&quot;);" href="javascript:void(0);" alt="">Redisson延迟队列实现倒计时任务</a><div class="blog-slider__text">项目里有个场景需要做延迟任务</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;2023/10/28/RDelayedQueue/&quot;);" href="javascript:void(0);" alt="">详情       </a></div></div></div><div class="blog-slider__pagination swiper-pagination-clickable swiper-pagination-bullets"></div></div></div>';
    console.log('已挂载butterfly_swiper')
    parent_div_git.insertAdjacentHTML("afterbegin",item_html)
    }
  var elist = 'undefined'.split(',');
  var cpage = location.pathname;
  var epage = 'all';
  var flag = 0;

  for (var i=0;i<elist.length;i++){
    if (cpage.includes(elist[i])){
      flag++;
    }
  }

  if ((epage ==='all')&&(flag == 0)){
    butterfly_swiper_injector_config();
  }
  else if (epage === cpage){
    butterfly_swiper_injector_config();
  }
  </script><script defer src="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper.min.js"></script><script defer data-pjax src="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper_init.js"></script><!-- hexo injector body_end end --><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":false,"model":{"jsonPath":"/live2dw/assets/koharu.model.json"},"log":false});</script></body></html>